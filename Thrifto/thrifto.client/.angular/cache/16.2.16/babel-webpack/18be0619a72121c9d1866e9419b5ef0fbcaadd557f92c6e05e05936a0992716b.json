{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { environment } from '../../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../services/listing.service\";\nimport * as i4 from \"../../services/auth.service\";\nimport * as i5 from \"../../services/notification.service\";\nimport * as i6 from \"@angular/common\";\nfunction EditListingComponent_div_17_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 81);\n    i0.ɵɵelement(1, \"img\", 82);\n    i0.ɵɵelementStart(2, \"div\", 83)(3, \"button\", 84);\n    i0.ɵɵlistener(\"click\", function EditListingComponent_div_17_div_12_Template_button_click_3_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.removePhoto(0, $event));\n    });\n    i0.ɵɵelement(4, \"i\", 85);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 86);\n    i0.ɵɵtext(6, \"Main\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r3.photos[0], i0.ɵɵsanitizeUrl);\n  }\n}\nfunction EditListingComponent_div_17_ng_template_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 87);\n    i0.ɵɵelement(1, \"i\", 88);\n    i0.ɵɵelementStart(2, \"span\", 89);\n    i0.ɵɵtext(3, \"Add Main Photo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 90);\n    i0.ɵɵtext(5, \"Drag & drop or click to upload\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditListingComponent_div_17_div_16_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 94);\n    i0.ɵɵelement(1, \"img\", 95);\n    i0.ɵɵelementStart(2, \"button\", 84);\n    i0.ɵɵlistener(\"click\", function EditListingComponent_div_17_div_16_div_1_Template_button_click_2_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const i_r12 = i0.ɵɵnextContext().index;\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.removePhoto(i_r12 + 1, $event));\n    });\n    i0.ɵɵelement(3, \"i\", 74);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const photo_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", photo_r11, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction EditListingComponent_div_17_div_16_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 96);\n    i0.ɵɵelement(1, \"i\", 97);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3, \"Add Photo\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditListingComponent_div_17_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 91);\n    i0.ɵɵlistener(\"dragover\", function EditListingComponent_div_17_div_16_Template_div_dragover_0_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r20.onDragOver($event));\n    })(\"drop\", function EditListingComponent_div_17_div_16_Template_div_drop_0_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r21);\n      const i_r12 = restoredCtx.index;\n      const ctx_r22 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r22.onDrop($event, i_r12 + 1));\n    })(\"click\", function EditListingComponent_div_17_div_16_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r21);\n      const i_r12 = restoredCtx.index;\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.triggerFileInput(i_r12 + 1));\n    });\n    i0.ɵɵtemplate(1, EditListingComponent_div_17_div_16_div_1_Template, 4, 1, \"div\", 92);\n    i0.ɵɵtemplate(2, EditListingComponent_div_17_div_16_ng_template_2_Template, 4, 0, \"ng-template\", null, 93, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const photo_r11 = ctx.$implicit;\n    const _r14 = i0.ɵɵreference(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", photo_r11)(\"ngIfElse\", _r14);\n  }\n}\nfunction EditListingComponent_div_17_div_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 98);\n    i0.ɵɵelement(1, \"i\", 99);\n    i0.ɵɵtext(2, \" Title is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditListingComponent_div_17_div_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 98);\n    i0.ɵɵelement(1, \"i\", 99);\n    i0.ɵɵtext(2, \" Please enter a valid price \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditListingComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 2)(2, \"form\", 16);\n    i0.ɵɵlistener(\"ngSubmit\", function EditListingComponent_div_17_Template_form_ngSubmit_2_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.onSubmit());\n    });\n    i0.ɵɵelementStart(3, \"div\", 17)(4, \"div\", 18)(5, \"div\", 19)(6, \"h3\");\n    i0.ɵɵelement(7, \"i\", 20);\n    i0.ɵɵtext(8, \" Photos \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\", 21);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 22);\n    i0.ɵɵlistener(\"dragover\", function EditListingComponent_div_17_Template_div_dragover_11_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.onDragOver($event));\n    })(\"drop\", function EditListingComponent_div_17_Template_div_drop_11_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.onDrop($event, 0));\n    })(\"click\", function EditListingComponent_div_17_Template_div_click_11_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.triggerFileInput(0));\n    });\n    i0.ɵɵtemplate(12, EditListingComponent_div_17_div_12_Template, 7, 1, \"div\", 23);\n    i0.ɵɵtemplate(13, EditListingComponent_div_17_ng_template_13_Template, 6, 0, \"ng-template\", null, 24, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 25);\n    i0.ɵɵtemplate(16, EditListingComponent_div_17_div_16_Template, 4, 2, \"div\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 27)(18, \"label\", 28);\n    i0.ɵɵelement(19, \"input\", 29)(20, \"span\", 30);\n    i0.ɵɵelementStart(21, \"span\", 31);\n    i0.ɵɵtext(22, \"Replace all existing photos\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(23, \"div\", 32)(24, \"div\", 33);\n    i0.ɵɵelement(25, \"i\", 34);\n    i0.ɵɵelementStart(26, \"span\");\n    i0.ɵɵtext(27, \"Live Preview\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"div\", 35)(29, \"div\", 36);\n    i0.ɵɵelement(30, \"img\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 38)(32, \"h4\");\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"p\", 39);\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"span\", 40);\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(38, \"div\", 41)(39, \"div\", 42)(40, \"div\", 43)(41, \"h3\");\n    i0.ɵɵelement(42, \"i\", 44);\n    i0.ɵɵtext(43, \" Essential Details \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"div\", 45);\n    i0.ɵɵelement(45, \"i\", 46);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(46, \"div\", 47)(47, \"label\", 48)(48, \"span\", 49);\n    i0.ɵɵtext(49, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"span\", 50);\n    i0.ɵɵtext(51, \"Make it descriptive and searchable\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(52, \"input\", 51);\n    i0.ɵɵtemplate(53, EditListingComponent_div_17_div_53_Template, 3, 0, \"div\", 52);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(54, \"div\", 47)(55, \"label\", 48)(56, \"span\", 49);\n    i0.ɵɵtext(57, \"Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(58, \"span\", 50);\n    i0.ɵɵtext(59, \"Competitive pricing gets more views\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(60, \"div\", 53)(61, \"span\", 54);\n    i0.ɵɵtext(62, \"$\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(63, \"input\", 55);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(64, EditListingComponent_div_17_div_64_Template, 3, 0, \"div\", 52);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(65, \"div\", 56)(66, \"div\", 57)(67, \"label\", 48)(68, \"span\", 49);\n    i0.ɵɵtext(69, \"Quality\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(70, \"select\", 58)(71, \"option\", 59);\n    i0.ɵɵtext(72, \"New\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(73, \"option\", 60);\n    i0.ɵɵtext(74, \"Like New\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(75, \"option\", 61);\n    i0.ɵɵtext(76, \"Barely Worn\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(77, \"option\", 62);\n    i0.ɵɵtext(78, \"Used\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(79, \"div\", 57)(80, \"label\", 48)(81, \"span\", 49);\n    i0.ɵɵtext(82, \"Size/Measurement\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(83, \"input\", 63);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(84, \"div\", 42)(85, \"div\", 43)(86, \"h3\");\n    i0.ɵɵelement(87, \"i\", 64);\n    i0.ɵɵtext(88, \" Description \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(89, \"div\", 65);\n    i0.ɵɵtext(90, \"Optional\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(91, \"div\", 57)(92, \"label\", 48)(93, \"span\", 49);\n    i0.ɵɵtext(94, \"Tell buyers more about this item\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(95, \"span\", 50);\n    i0.ɵɵtext(96, \"Mention condition details, brand, style, or why you're selling\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(97, \"textarea\", 66);\n    i0.ɵɵelementStart(98, \"div\", 67)(99, \"div\", 68)(100, \"span\");\n    i0.ɵɵtext(101);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(102, \"button\", 69);\n    i0.ɵɵlistener(\"click\", function EditListingComponent_div_17_Template_button_click_102_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.suggestDescription());\n    });\n    i0.ɵɵelement(103, \"i\", 70);\n    i0.ɵɵtext(104, \" Get suggestions \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(105, \"div\", 71)(106, \"div\", 72)(107, \"button\", 73);\n    i0.ɵɵlistener(\"click\", function EditListingComponent_div_17_Template_button_click_107_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.cancel());\n    });\n    i0.ɵɵelement(108, \"i\", 74);\n    i0.ɵɵelementStart(109, \"span\");\n    i0.ɵɵtext(110, \"Cancel\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(111, \"button\", 75)(112, \"div\", 76);\n    i0.ɵɵelement(113, \"i\", 10);\n    i0.ɵɵelementStart(114, \"span\");\n    i0.ɵɵtext(115);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(116, \"div\", 77)(117, \"div\", 78)(118, \"div\", 79);\n    i0.ɵɵelement(119, \"i\", 80);\n    i0.ɵɵelementStart(120, \"span\");\n    i0.ɵɵtext(121, \"Changes saved securely\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(122, \"div\", 79);\n    i0.ɵɵelement(123, \"i\", 34);\n    i0.ɵɵelementStart(124, \"span\");\n    i0.ɵɵtext(125, \"Preview before publishing\");\n    i0.ɵɵelementEnd()()()()()()()()();\n  }\n  if (rf & 2) {\n    const _r4 = i0.ɵɵreference(14);\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_6_0;\n    let tmp_7_0;\n    let tmp_8_0;\n    let tmp_10_0;\n    let tmp_11_0;\n    let tmp_12_0;\n    let tmp_13_0;\n    let tmp_14_0;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.listingForm);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.getPhotoCount(), \"/4\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.photos[0])(\"ngIfElse\", _r4);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.photos.slice(1, 4));\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"src\", ctx_r0.getPreviewImage(), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(((tmp_6_0 = ctx_r0.listingForm.get(\"title\")) == null ? null : tmp_6_0.value) || \"Your Item Title\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", ((tmp_7_0 = ctx_r0.listingForm.get(\"price\")) == null ? null : tmp_7_0.value) || \"0.00\", \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(((tmp_8_0 = ctx_r0.listingForm.get(\"quality\")) == null ? null : tmp_8_0.value) || \"Quality\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵclassProp(\"complete\", ctx_r0.isEssentialComplete());\n    i0.ɵɵadvance(8);\n    i0.ɵɵclassProp(\"error\", ((tmp_10_0 = ctx_r0.listingForm.get(\"title\")) == null ? null : tmp_10_0.invalid) && ((tmp_10_0 = ctx_r0.listingForm.get(\"title\")) == null ? null : tmp_10_0.touched));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_11_0 = ctx_r0.listingForm.get(\"title\")) == null ? null : tmp_11_0.invalid) && ((tmp_11_0 = ctx_r0.listingForm.get(\"title\")) == null ? null : tmp_11_0.touched));\n    i0.ɵɵadvance(10);\n    i0.ɵɵclassProp(\"error\", ((tmp_12_0 = ctx_r0.listingForm.get(\"price\")) == null ? null : tmp_12_0.invalid) && ((tmp_12_0 = ctx_r0.listingForm.get(\"price\")) == null ? null : tmp_12_0.touched));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_13_0 = ctx_r0.listingForm.get(\"price\")) == null ? null : tmp_13_0.invalid) && ((tmp_13_0 = ctx_r0.listingForm.get(\"price\")) == null ? null : tmp_13_0.touched));\n    i0.ɵɵadvance(19);\n    i0.ɵɵclassProp(\"error\", ((tmp_14_0 = ctx_r0.listingForm.get(\"measurement\")) == null ? null : tmp_14_0.invalid) && ((tmp_14_0 = ctx_r0.listingForm.get(\"measurement\")) == null ? null : tmp_14_0.touched));\n    i0.ɵɵadvance(17);\n    i0.ɵɵclassProp(\"warning\", ctx_r0.getCharacterCount() > 220);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.getCharacterCount(), \"/250 \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.isSubmitting);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.listingForm.invalid || ctx_r0.isSubmitting);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.isSubmitting ? \"fa-spinner fa-spin\" : \"fa-save\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.isSubmitting ? \"Updating...\" : \"Update Listing\");\n  }\n}\nfunction EditListingComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 100);\n    i0.ɵɵelement(1, \"i\", 101);\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3, \"Listing Updated!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Your changes have been saved successfully\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditListingComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 102);\n    i0.ɵɵelement(1, \"i\", 103);\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3, \"Update Failed\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.errorMessage || \"Please try again or contact support\");\n  }\n}\nexport class EditListingComponent {\n  constructor(fb, route, router, listingService, authService, notificationService) {\n    this.fb = fb;\n    this.route = route;\n    this.router = router;\n    this.listingService = listingService;\n    this.authService = authService;\n    this.notificationService = notificationService;\n    this.listing = null;\n    this.photos = [null, null, null, null]; // Four photo placeholders\n    this.photoFiles = [null, null, null, null]; // Store the actual file objects\n    this.showSuccessNotification = false;\n    this.showFailedNotification = false;\n    this.isSubmitting = false;\n    this.isLoading = true;\n    this.errorMessage = '';\n    // Initialize the form here\n    this.initForm();\n  }\n  // Initialize form separately to avoid null issues\n  initForm() {\n    this.listingForm = this.fb.group({\n      title: ['', Validators.required],\n      measurement: ['', Validators.required],\n      quality: ['NEW', Validators.required],\n      price: ['', [Validators.required, Validators.min(0.01)]],\n      description: ['', [Validators.maxLength(250)]],\n      deleteExistingPhotos: [false]\n    });\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.listingId = +params['id'];\n      if (!isNaN(this.listingId)) {\n        this.loadListing();\n      } else {\n        this.router.navigate(['/sell']);\n      }\n    });\n  }\n  loadListing() {\n    this.isLoading = true;\n    this.listingService.getListingById(this.listingId).subscribe({\n      next: listing => {\n        this.listing = listing;\n        console.log('Loaded listing for editing:', listing);\n        // Check if the current user is the owner\n        if (listing.userId !== this.authService.getCurrentUserId()) {\n          this.notificationService.show('You do not have permission to edit this listing', 'error');\n          this.router.navigate(['/sell']);\n          return;\n        }\n        // Populate the form with safer null checks\n        this.listingForm.patchValue({\n          title: listing.title || '',\n          measurement: listing.measurement || '',\n          quality: listing.quality || 'NEW',\n          price: listing.price || '',\n          description: listing.description || '' // Make sure description is initialized\n        });\n\n        console.log('Form values after patch:', this.listingForm.value);\n        // Populate photo previews\n        if (listing.photoUrls?.length) {\n          listing.photoUrls.forEach((url, index) => {\n            if (index < 4) {\n              this.photos[index] = this.getImageUrl(url);\n            }\n          });\n        }\n        this.isLoading = false;\n      },\n      error: error => {\n        console.error('Error loading listing', error);\n        this.notificationService.show('Error loading listing details', 'error');\n        this.isLoading = false;\n        this.router.navigate(['/sell']);\n      }\n    });\n  }\n  getImageUrl(url) {\n    if (!url) {\n      return 'assets/images/placeholder.png';\n    }\n    // If the URL is relative (from your backend)\n    if (url.startsWith('/')) {\n      const baseUrl = environment.apiUrl.split('/api')[0];\n      return `${baseUrl}${url}`;\n    }\n    return url;\n  }\n  triggerFileInput(index) {\n    const fileInput = document.createElement('input');\n    fileInput.type = 'file';\n    fileInput.accept = 'image/*';\n    fileInput.onchange = event => {\n      this.onFileSelected(event, index);\n    };\n    fileInput.click();\n  }\n  onFileSelected(event, index) {\n    const file = event.target.files[0];\n    if (file) {\n      this.photoFiles[index] = file;\n      const reader = new FileReader();\n      reader.onload = e => {\n        this.photos[index] = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    }\n  }\n  onSubmit() {\n    if (this.listingForm.valid) {\n      this.isSubmitting = true;\n      this.errorMessage = '';\n      try {\n        const formData = new FormData();\n        // Get all form values from the form\n        const formValues = this.listingForm.value;\n        console.log('Original form values:', formValues);\n        // Append form values - using lowercase to match model binding\n        formData.append('title', formValues.title || '');\n        formData.append('measurement', formValues.measurement || '');\n        formData.append('quality', formValues.quality || '');\n        formData.append('price', (formValues.price || 0).toString());\n        // Handle description field - ensure it's never null\n        const description = formValues.description !== null && formValues.description !== undefined ? formValues.description : '';\n        formData.append('description', description);\n        // Handle delete existing photos flag\n        formData.append('deleteExistingPhotos', formValues.deleteExistingPhotos ? 'true' : 'false');\n        // Add new photos if any\n        let hasNewPhotos = false;\n        this.photoFiles.forEach(file => {\n          if (file) {\n            formData.append('photos', file);\n            hasNewPhotos = true;\n          }\n        });\n        // Debug the form data\n        console.log('Submitting update with new photos:', hasNewPhotos);\n        this.listingService.updateListing(this.listingId, formData).subscribe({\n          next: response => {\n            this.isSubmitting = false;\n            this.showSuccessNotification = true;\n            this.notificationService.show('Listing updated successfully!', 'success');\n            setTimeout(() => {\n              this.showSuccessNotification = false;\n              this.router.navigate(['/listing', this.listingId]);\n            }, 2000);\n          },\n          error: error => {\n            this.isSubmitting = false;\n            this.showFailedNotification = true;\n            // Attempt to extract a more detailed error message\n            if (error.error) {\n              if (typeof error.error === 'string') {\n                this.errorMessage = error.error;\n              } else if (error.error.errors) {\n                this.errorMessage = 'Validation errors: ';\n                for (const key in error.error.errors) {\n                  if (error.error.errors.hasOwnProperty(key)) {\n                    this.errorMessage += `${key}: ${error.error.errors[key].join(', ')}; `;\n                  }\n                }\n              } else if (error.error.message) {\n                this.errorMessage = error.error.message;\n              }\n            }\n            console.error('Error updating listing', error);\n            this.notificationService.show(`Error updating listing: ${this.errorMessage || 'Unknown error'}`, 'error');\n            setTimeout(() => this.showFailedNotification = false, 3000);\n          }\n        });\n      } catch (err) {\n        this.isSubmitting = false;\n        this.showFailedNotification = true;\n        console.error('Exception while preparing form data:', err);\n        this.notificationService.show('Error preparing form data', 'error');\n        setTimeout(() => this.showFailedNotification = false, 3000);\n      }\n    } else {\n      // Form is invalid - highlight the errors\n      Object.keys(this.listingForm.controls).forEach(key => {\n        const control = this.listingForm.get(key);\n        if (control?.invalid) {\n          control.markAsTouched();\n        }\n      });\n      this.notificationService.show('Please fix the form errors before submitting', 'error');\n    }\n  }\n  cancel() {\n    this.router.navigate(['/listing', this.listingId]);\n  }\n  static {\n    this.ɵfac = function EditListingComponent_Factory(t) {\n      return new (t || EditListingComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ListingService), i0.ɵɵdirectiveInject(i4.AuthService), i0.ɵɵdirectiveInject(i5.NotificationService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: EditListingComponent,\n      selectors: [[\"app-edit-listing\"]],\n      decls: 21,\n      vars: 10,\n      consts: [[1, \"edit-listing-container\"], [1, \"progress-header\"], [1, \"container\"], [1, \"progress-content\"], [1, \"progress-indicator\"], [1, \"step-line\"], [1, \"step-circle\", \"active\"], [1, \"fas\", \"fa-edit\"], [1, \"progress-text\"], [1, \"save-status\", 3, \"ngClass\"], [1, \"fas\", 3, \"ngClass\"], [\"class\", \"edit-workspace\", 4, \"ngIf\"], [1, \"feedback-overlay\"], [\"class\", \"feedback-card success\", 4, \"ngIf\"], [\"class\", \"feedback-card error\", 4, \"ngIf\"], [1, \"edit-workspace\"], [1, \"edit-form\", 3, \"formGroup\", \"ngSubmit\"], [1, \"visual-section\"], [1, \"photo-manager\"], [1, \"section-header\"], [1, \"fas\", \"fa-camera\"], [1, \"photo-count\"], [1, \"main-photo-container\", 3, \"dragover\", \"drop\", \"click\"], [\"class\", \"photo-slot main-slot\", 4, \"ngIf\", \"ngIfElse\"], [\"emptyMainSlot\", \"\"], [1, \"additional-photos\"], [\"class\", \"photo-slot additional-slot\", 3, \"dragover\", \"drop\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"photo-options\"], [1, \"option-toggle\"], [\"type\", \"checkbox\", \"formControlName\", \"deleteExistingPhotos\"], [1, \"toggle-slider\"], [1, \"option-text\"], [1, \"preview-card\"], [1, \"preview-header\"], [1, \"fas\", \"fa-eye\"], [1, \"preview-content\"], [1, \"preview-image\"], [\"alt\", \"Preview\", 3, \"src\"], [1, \"preview-info\"], [1, \"preview-price\"], [1, \"preview-quality\"], [1, \"form-section\"], [1, \"form-group-set\"], [1, \"set-header\"], [1, \"fas\", \"fa-info-circle\"], [1, \"completion-indicator\"], [1, \"fas\", \"fa-check\"], [1, \"form-group\", \"priority\"], [1, \"form-label\"], [1, \"label-text\"], [1, \"label-hint\"], [\"type\", \"text\", \"formControlName\", \"title\", \"placeholder\", \"e.g., Vintage Levi's Denim Jacket\", 1, \"form-input\"], [\"class\", \"input-feedback\", 4, \"ngIf\"], [1, \"price-input-wrapper\"], [1, \"currency-symbol\"], [\"type\", \"number\", \"formControlName\", \"price\", \"placeholder\", \"0.00\", \"step\", \"0.01\", \"min\", \"0.01\", 1, \"form-input\", \"price-input\"], [1, \"form-row\"], [1, \"form-group\"], [\"formControlName\", \"quality\", 1, \"form-select\"], [\"value\", \"NEW\"], [\"value\", \"LIKE NEW\"], [\"value\", \"BARELY WORN\"], [\"value\", \"USED\"], [\"type\", \"text\", \"formControlName\", \"measurement\", \"placeholder\", \"e.g., M, 32W, UK 10\", 1, \"form-input\"], [1, \"fas\", \"fa-align-left\"], [1, \"optional-badge\"], [\"formControlName\", \"description\", \"rows\", \"4\", \"maxlength\", \"250\", \"placeholder\", \"This item is in excellent condition with no visible wear. I'm selling because...\", 1, \"form-textarea\"], [1, \"textarea-footer\"], [1, \"character-counter\"], [\"type\", \"button\", 1, \"text-helper-btn\", 3, \"click\"], [1, \"fas\", \"fa-magic\"], [1, \"action-zone\"], [1, \"action-buttons\"], [\"type\", \"button\", 1, \"btn-secondary\", 3, \"disabled\", \"click\"], [1, \"fas\", \"fa-times\"], [\"type\", \"submit\", 1, \"btn-primary\", 3, \"disabled\"], [1, \"btn-content\"], [1, \"action-footer\"], [1, \"confidence-items\"], [1, \"confidence-item\"], [1, \"fas\", \"fa-shield-alt\"], [1, \"photo-slot\", \"main-slot\"], [\"alt\", \"Main product photo\", 3, \"src\"], [1, \"photo-controls\"], [\"type\", \"button\", 1, \"photo-btn\", \"delete\", 3, \"click\"], [1, \"fas\", \"fa-trash\"], [1, \"main-badge\"], [1, \"empty-slot\", \"main-empty\"], [1, \"fas\", \"fa-camera-retro\"], [1, \"primary-text\"], [1, \"secondary-text\"], [1, \"photo-slot\", \"additional-slot\", 3, \"dragover\", \"drop\", \"click\"], [\"class\", \"photo-content\", 4, \"ngIf\", \"ngIfElse\"], [\"emptySlot\", \"\"], [1, \"photo-content\"], [\"alt\", \"Additional photo\", 3, \"src\"], [1, \"empty-slot\"], [1, \"fas\", \"fa-plus\"], [1, \"input-feedback\"], [1, \"fas\", \"fa-exclamation-triangle\"], [1, \"feedback-card\", \"success\"], [1, \"fas\", \"fa-check-circle\"], [1, \"feedback-card\", \"error\"], [1, \"fas\", \"fa-exclamation-circle\"]],\n      template: function EditListingComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n          i0.ɵɵelement(5, \"div\", 5);\n          i0.ɵɵelementStart(6, \"div\", 6);\n          i0.ɵɵelement(7, \"i\", 7);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"div\", 8)(9, \"h1\");\n          i0.ɵɵtext(10, \"Edit Your Listing\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"p\");\n          i0.ɵɵtext(12, \"Make changes to keep your item attractive to buyers\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(13, \"div\", 9);\n          i0.ɵɵelement(14, \"i\", 10);\n          i0.ɵɵelementStart(15, \"span\");\n          i0.ɵɵtext(16);\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵtemplate(17, EditListingComponent_div_17_Template, 126, 26, \"div\", 11);\n          i0.ɵɵelementStart(18, \"div\", 12);\n          i0.ɵɵtemplate(19, EditListingComponent_div_19_Template, 6, 0, \"div\", 13);\n          i0.ɵɵtemplate(20, EditListingComponent_div_20_Template, 6, 1, \"div\", 14);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵclassProp(\"complete\", ctx.hasBasicInfo());\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngClass\", ctx.getSaveStatusClass());\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngClass\", ctx.getSaveStatusIcon());\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.saveStatusMessage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.listing);\n          i0.ɵɵadvance(1);\n          i0.ɵɵclassProp(\"visible\", ctx.showSuccessNotification || ctx.showFailedNotification);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.showSuccessNotification);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.showFailedNotification);\n        }\n      },\n      dependencies: [i6.NgClass, i6.NgForOf, i6.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.CheckboxControlValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.MaxLengthValidator, i1.MinValidator, i1.FormGroupDirective, i1.FormControlName],\n      styles: [\"\\n\\n.container[_ngcontent-%COMP%] {\\n  max-width: 1000px;\\n  margin: 0 auto;\\n  padding: 40px 20px;\\n}\\n\\nh1[_ngcontent-%COMP%] {\\n  font-size: 28px;\\n  margin-bottom: 30px;\\n  color: #333;\\n}\\n\\n.notifications[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n}\\n.notifications[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%] {\\n  padding: 12px 16px;\\n  margin-bottom: 10px;\\n  border-radius: 4px;\\n  text-align: center;\\n  font-weight: 500;\\n}\\n.notifications[_ngcontent-%COMP%]   .notification.success[_ngcontent-%COMP%] {\\n  background-color: #4caf50;\\n  color: white;\\n}\\n.notifications[_ngcontent-%COMP%]   .notification.error[_ngcontent-%COMP%] {\\n  background-color: #f44336;\\n  color: white;\\n}\\n.notifications[_ngcontent-%COMP%]   .notification.error[_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%] {\\n  margin-top: 8px;\\n  font-size: 14px;\\n  font-weight: normal;\\n  white-space: pre-line;\\n  text-align: left;\\n}\\n\\n.loading-spinner[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  padding: 40px 0;\\n}\\n.loading-spinner[_ngcontent-%COMP%]:after {\\n  content: \\\"\\\";\\n  width: 40px;\\n  height: 40px;\\n  border: 4px solid #f3f3f3;\\n  border-top: 4px solid #a83939;\\n  border-radius: 50%;\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n}\\n\\n.edit-form-container[_ngcontent-%COMP%] {\\n  background-color: white;\\n  border-radius: 8px;\\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\\n  padding: 20px;\\n}\\n\\n.listing-form[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 30px;\\n}\\n@media (max-width: 768px) {\\n  .listing-form[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n  }\\n}\\n.listing-form[_ngcontent-%COMP%]   .photos-container[_ngcontent-%COMP%] {\\n  flex: 1;\\n}\\n.listing-form[_ngcontent-%COMP%]   .photos-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  margin-bottom: 15px;\\n  color: #555;\\n}\\n.listing-form[_ngcontent-%COMP%]   .photos-container[_ngcontent-%COMP%]   .photo-grid[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(2, 1fr);\\n  gap: 15px;\\n  margin-bottom: 15px;\\n}\\n.listing-form[_ngcontent-%COMP%]   .photos-container[_ngcontent-%COMP%]   .photo-grid[_ngcontent-%COMP%]   .photo-upload[_ngcontent-%COMP%] {\\n  aspect-ratio: 1/1;\\n  border: 1px dashed #ccc;\\n  border-radius: 4px;\\n  overflow: hidden;\\n  position: relative;\\n}\\n.listing-form[_ngcontent-%COMP%]   .photos-container[_ngcontent-%COMP%]   .photo-grid[_ngcontent-%COMP%]   .photo-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n}\\n.listing-form[_ngcontent-%COMP%]   .photos-container[_ngcontent-%COMP%]   .photo-grid[_ngcontent-%COMP%]   .photo-upload[_ngcontent-%COMP%]   .upload-placeholder[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  height: 100%;\\n  color: #999;\\n  cursor: pointer;\\n  transition: background-color 0.2s;\\n}\\n.listing-form[_ngcontent-%COMP%]   .photos-container[_ngcontent-%COMP%]   .photo-grid[_ngcontent-%COMP%]   .photo-upload[_ngcontent-%COMP%]   .upload-placeholder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%] {\\n  margin-bottom: 10px;\\n}\\n.listing-form[_ngcontent-%COMP%]   .photos-container[_ngcontent-%COMP%]   .photo-grid[_ngcontent-%COMP%]   .photo-upload[_ngcontent-%COMP%]   .upload-placeholder[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n}\\n.listing-form[_ngcontent-%COMP%]   .photos-container[_ngcontent-%COMP%]   .photo-grid[_ngcontent-%COMP%]   .photo-upload[_ngcontent-%COMP%]   .upload-placeholder[_ngcontent-%COMP%]:hover {\\n  background-color: #f9f9f9;\\n}\\n.listing-form[_ngcontent-%COMP%]   .photos-container[_ngcontent-%COMP%]   .photo-options[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  color: #555;\\n  font-size: 14px;\\n  cursor: pointer;\\n}\\n.listing-form[_ngcontent-%COMP%]   .photos-container[_ngcontent-%COMP%]   .photo-options[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  margin-right: 8px;\\n}\\n.listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%] {\\n  flex: 1;\\n}\\n.listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n  \\n\\n  \\n\\n}\\n.listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-bottom: 8px;\\n  font-weight: 500;\\n  color: #555;\\n}\\n.listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px 12px;\\n  border: 1px solid #ddd;\\n  border-radius: 4px;\\n  font-size: 16px;\\n}\\n.listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: #a83939;\\n}\\n.listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%] {\\n  border-color: #f44336;\\n}\\n.listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%] {\\n  resize: vertical;\\n  min-height: 100px;\\n  line-height: 1.5;\\n  font-family: inherit;\\n}\\n.listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .character-counter[_ngcontent-%COMP%] {\\n  text-align: right;\\n  font-size: 13px;\\n  color: #777;\\n  margin-top: 5px;\\n}\\n.listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%], .listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%] {\\n  color: #f44336;\\n  font-size: 14px;\\n  margin-top: 5px;\\n}\\n.listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%]   .photo-options[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n}\\n.listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 15px;\\n}\\n.listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] {\\n  flex: 1;\\n  padding: 12px;\\n  border: none;\\n  border-radius: 4px;\\n  font-size: 16px;\\n  cursor: pointer;\\n}\\n.listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%] {\\n  background-color: #a83939;\\n  color: white;\\n}\\n.listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled) {\\n  background-color: #822c2c;\\n}\\n.listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:disabled {\\n  background-color: #ccc;\\n  cursor: not-allowed;\\n}\\n.listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%] {\\n  background-color: #f5f5f5;\\n  color: #333;\\n}\\n.listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover {\\n  background-color: #e0e0e0;\\n}\\n.listing-form[_ngcontent-%COMP%]   .form-details[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .spinner-border-sm[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  width: 1rem;\\n  height: 1rem;\\n  border: 0.2em solid currentColor;\\n  border-right-color: transparent;\\n  border-radius: 50%;\\n  animation: _ngcontent-%COMP%_spinner-border 0.75s linear infinite;\\n  margin-right: 8px;\\n}\\n\\n.not-found[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 60px 0;\\n}\\n.not-found[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 24px;\\n  margin-bottom: 15px;\\n  color: #333;\\n}\\n.not-found[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n  color: #666;\\n}\\n.not-found[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  padding: 10px 20px;\\n  background-color: #a83939;\\n  color: white;\\n  text-decoration: none;\\n  border-radius: 4px;\\n}\\n.not-found[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover {\\n  background-color: #822c2c;\\n}\\n\\n@keyframes _ngcontent-%COMP%_spin {\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n}\\n@keyframes _ngcontent-%COMP%_spinner-border {\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9lZGl0LWxpc3RpbmcvZWRpdC1saXN0aW5nLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdFQUFBO0FBQ0E7RUFDRSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtBQUNGOztBQUVBO0VBQ0UsbUJBQUE7QUFDRjtBQUNFO0VBQ0Usa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtBQUNKO0FBQ0k7RUFDRSx5QkFBQTtFQUNBLFlBQUE7QUFDTjtBQUVJO0VBQ0UseUJBQUE7RUFDQSxZQUFBO0FBQU47QUFFTTtFQUNFLGVBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtFQUNBLGdCQUFBO0FBQVI7O0FBTUE7RUFDRSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxlQUFBO0FBSEY7QUFLRTtFQUNFLFdBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHlCQUFBO0VBQ0EsNkJBQUE7RUFDQSxrQkFBQTtFQUNBLGtDQUFBO0FBSEo7O0FBT0E7RUFDRSx1QkFBQTtFQUNBLGtCQUFBO0VBQ0EseUNBQUE7RUFDQSxhQUFBO0FBSkY7O0FBT0E7RUFDRSxhQUFBO0VBQ0EsU0FBQTtBQUpGO0FBTUU7RUFKRjtJQUtJLHNCQUFBO0VBSEY7QUFDRjtBQUtFO0VBQ0UsT0FBQTtBQUhKO0FBS0k7RUFDRSxlQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0FBSE47QUFNSTtFQUNFLGFBQUE7RUFDQSxxQ0FBQTtFQUNBLFNBQUE7RUFDQSxtQkFBQTtBQUpOO0FBTU07RUFDRSxpQkFBQTtFQUNBLHVCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FBSlI7QUFNUTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7QUFKVjtBQU9RO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGlDQUFBO0FBTFY7QUFPVTtFQUNFLG1CQUFBO0FBTFo7QUFRVTtFQUNFLGVBQUE7QUFOWjtBQVNVO0VBQ0UseUJBQUE7QUFQWjtBQWNNO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0FBWlI7QUFjUTtFQUNFLGlCQUFBO0FBWlY7QUFrQkU7RUFDRSxPQUFBO0FBaEJKO0FBa0JJO0VBQ0UsbUJBQUE7RUF5QkEsNENBQUE7RUFPQSw4QkFBQTtBQTlDTjtBQWdCTTtFQUNFLGNBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtBQWRSO0FBaUJNO0VBQ0UsV0FBQTtFQUNBLGtCQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7QUFmUjtBQWlCUTtFQUNFLGFBQUE7RUFDQSxxQkFBQTtBQWZWO0FBa0JRO0VBQ0UscUJBQUE7QUFoQlY7QUFvQk07RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxvQkFBQTtBQWxCUjtBQXFCTTtFQUNFLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0FBbkJSO0FBc0JNO0VBQ0UsY0FBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0FBcEJSO0FBd0JJO0VBQ0UsbUJBQUE7QUF0Qk47QUF5Qkk7RUFDRSxhQUFBO0VBQ0EsU0FBQTtBQXZCTjtBQXlCTTtFQUNFLE9BQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7QUF2QlI7QUF5QlE7RUFDRSx5QkFBQTtFQUNBLFlBQUE7QUF2QlY7QUF5QlU7RUFDRSx5QkFBQTtBQXZCWjtBQTBCVTtFQUNFLHNCQUFBO0VBQ0EsbUJBQUE7QUF4Qlo7QUE0QlE7RUFDRSx5QkFBQTtFQUNBLFdBQUE7QUExQlY7QUE0QlU7RUFDRSx5QkFBQTtBQTFCWjtBQThCUTtFQUNFLHFCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxnQ0FBQTtFQUNBLCtCQUFBO0VBQ0Esa0JBQUE7RUFDQSwrQ0FBQTtFQUNBLGlCQUFBO0FBNUJWOztBQW1DQTtFQUNFLGtCQUFBO0VBQ0EsZUFBQTtBQWhDRjtBQWtDRTtFQUNFLGVBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7QUFoQ0o7QUFtQ0U7RUFDRSxtQkFBQTtFQUNBLFdBQUE7QUFqQ0o7QUFvQ0U7RUFDRSxxQkFBQTtFQUNBLGtCQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtBQWxDSjtBQW9DSTtFQUNFLHlCQUFBO0FBbENOOztBQXVDQTtFQUNFO0lBQ0UsdUJBQUE7RUFwQ0Y7RUF1Q0E7SUFDRSx5QkFBQTtFQXJDRjtBQUNGO0FBd0NBO0VBQ0U7SUFDRSx5QkFBQTtFQXRDRjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLyogc3JjL2FwcC9jb21wb25lbnRzL2VkaXQtbGlzdGluZy9lZGl0LWxpc3RpbmcuY29tcG9uZW50LnNjc3MgKi9cclxuLmNvbnRhaW5lciB7XHJcbiAgbWF4LXdpZHRoOiAxMDAwcHg7XHJcbiAgbWFyZ2luOiAwIGF1dG87XHJcbiAgcGFkZGluZzogNDBweCAyMHB4O1xyXG59XHJcblxyXG5oMSB7XHJcbiAgZm9udC1zaXplOiAyOHB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDMwcHg7XHJcbiAgY29sb3I6ICMzMzM7XHJcbn1cclxuXHJcbi5ub3RpZmljYXRpb25zIHtcclxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG5cclxuICAubm90aWZpY2F0aW9uIHtcclxuICAgIHBhZGRpbmc6IDEycHggMTZweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBmb250LXdlaWdodDogNTAwO1xyXG5cclxuICAgICYuc3VjY2VzcyB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICM0Y2FmNTA7XHJcbiAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIH1cclxuXHJcbiAgICAmLmVycm9yIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y0NDMzNjtcclxuICAgICAgY29sb3I6IHdoaXRlO1xyXG5cclxuICAgICAgLmVycm9yLWRldGFpbHMge1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDhweDtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcclxuICAgICAgICB3aGl0ZS1zcGFjZTogcHJlLWxpbmU7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLmxvYWRpbmctc3Bpbm5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBwYWRkaW5nOiA0MHB4IDA7XHJcblxyXG4gICY6YWZ0ZXIge1xyXG4gICAgY29udGVudDogJyc7XHJcbiAgICB3aWR0aDogNDBweDtcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIGJvcmRlcjogNHB4IHNvbGlkICNmM2YzZjM7XHJcbiAgICBib3JkZXItdG9wOiA0cHggc29saWQgI2E4MzkzOTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XHJcbiAgfVxyXG59XHJcblxyXG4uZWRpdC1mb3JtLWNvbnRhaW5lciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIGJveC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbn1cclxuXHJcbi5saXN0aW5nLWZvcm0ge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZ2FwOiAzMHB4O1xyXG5cclxuICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgfVxyXG5cclxuICAucGhvdG9zLWNvbnRhaW5lciB7XHJcbiAgICBmbGV4OiAxO1xyXG5cclxuICAgIGgzIHtcclxuICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG4gICAgICBjb2xvcjogIzU1NTtcclxuICAgIH1cclxuXHJcbiAgICAucGhvdG8tZ3JpZCB7XHJcbiAgICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIDFmcik7XHJcbiAgICAgIGdhcDogMTVweDtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuXHJcbiAgICAgIC5waG90by11cGxvYWQge1xyXG4gICAgICAgIGFzcGVjdC1yYXRpbzogMSAvIDE7XHJcbiAgICAgICAgYm9yZGVyOiAxcHggZGFzaGVkICNjY2M7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG5cclxuICAgICAgICBpbWcge1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICBvYmplY3QtZml0OiBjb3ZlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC51cGxvYWQtcGxhY2Vob2xkZXIge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICBjb2xvcjogIzk5OTtcclxuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4ycztcclxuXHJcbiAgICAgICAgICBzdmcge1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNwYW4ge1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLnBob3RvLW9wdGlvbnMge1xyXG4gICAgICAuY2hlY2tib3gtbGFiZWwge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICBjb2xvcjogIzU1NTtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG5cclxuICAgICAgICBpbnB1dCB7XHJcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDhweDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC5mb3JtLWRldGFpbHMge1xyXG4gICAgZmxleDogMTtcclxuXHJcbiAgICAuZm9ybS1ncm91cCB7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcblxyXG4gICAgICBsYWJlbCB7XHJcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICAgICAgY29sb3I6ICM1NTU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5mb3JtLWNvbnRyb2wge1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIHBhZGRpbmc6IDEwcHggMTJweDtcclxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcblxyXG4gICAgICAgICY6Zm9jdXMge1xyXG4gICAgICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgICAgICAgIGJvcmRlci1jb2xvcjogI2E4MzkzOTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYuaXMtaW52YWxpZCB7XHJcbiAgICAgICAgICBib3JkZXItY29sb3I6ICNmNDQzMzY7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC8qIFN0eWxlcyBmb3IgdGV4dGFyZWEgKGRlc2NyaXB0aW9uIGZpZWxkKSAqL1xyXG4gICAgICB0ZXh0YXJlYS5mb3JtLWNvbnRyb2wge1xyXG4gICAgICAgIHJlc2l6ZTogdmVydGljYWw7XHJcbiAgICAgICAgbWluLWhlaWdodDogMTAwcHg7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTtcclxuICAgICAgICBmb250LWZhbWlseTogaW5oZXJpdDtcclxuICAgICAgfVxyXG4gICAgICAvKiBDaGFyYWN0ZXIgY291bnRlciBzdHlsaW5nICovXHJcbiAgICAgIC5jaGFyYWN0ZXItY291bnRlciB7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XHJcbiAgICAgICAgZm9udC1zaXplOiAxM3B4O1xyXG4gICAgICAgIGNvbG9yOiAjNzc3O1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDVweDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmludmFsaWQtZmVlZGJhY2ssIC5lcnJvci1tZXNzYWdlIHtcclxuICAgICAgICBjb2xvcjogI2Y0NDMzNjtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogNXB4O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLnBob3RvLW9wdGlvbnMge1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5mb3JtLWFjdGlvbnMge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBnYXA6IDE1cHg7XHJcblxyXG4gICAgICAuYnRuIHtcclxuICAgICAgICBmbGV4OiAxO1xyXG4gICAgICAgIHBhZGRpbmc6IDEycHg7XHJcbiAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG5cclxuICAgICAgICAmLmJ0bi1wcmltYXJ5IHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNhODM5Mzk7XHJcbiAgICAgICAgICBjb2xvcjogd2hpdGU7XHJcblxyXG4gICAgICAgICAgJjpob3Zlcjpub3QoOmRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IGRhcmtlbigjYTgzOTM5LCAxMCUpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICY6ZGlzYWJsZWQge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjO1xyXG4gICAgICAgICAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJi5idG4tc2Vjb25kYXJ5IHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7XHJcbiAgICAgICAgICBjb2xvcjogIzMzMztcclxuXHJcbiAgICAgICAgICAmOmhvdmVyIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2UwZTBlMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5zcGlubmVyLWJvcmRlci1zbSB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgICB3aWR0aDogMXJlbTtcclxuICAgICAgICAgIGhlaWdodDogMXJlbTtcclxuICAgICAgICAgIGJvcmRlcjogMC4yZW0gc29saWQgY3VycmVudENvbG9yO1xyXG4gICAgICAgICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgICAgIGFuaW1hdGlvbjogc3Bpbm5lci1ib3JkZXIgLjc1cyBsaW5lYXIgaW5maW5pdGU7XHJcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDhweDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi5ub3QtZm91bmQge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBwYWRkaW5nOiA2MHB4IDA7XHJcblxyXG4gIGgyIHtcclxuICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XHJcbiAgICBjb2xvcjogIzMzMztcclxuICB9XHJcblxyXG4gIHAge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICAgIGNvbG9yOiAjNjY2O1xyXG4gIH1cclxuXHJcbiAgLmJ0biB7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYTgzOTM5O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG5cclxuICAgICY6aG92ZXIge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrZW4oI2E4MzkzOSwgMTAlKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgc3BpbiB7XHJcbiAgMCUge1xyXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XHJcbiAgfVxyXG5cclxuICAxMDAlIHtcclxuICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XHJcbiAgfVxyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIHNwaW5uZXItYm9yZGVyIHtcclxuICB0byB7XHJcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xyXG4gIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["Validators","environment","i0","ɵɵelementStart","ɵɵelement","ɵɵlistener","EditListingComponent_div_17_div_12_Template_button_click_3_listener","$event","ɵɵrestoreView","_r10","ctx_r9","ɵɵnextContext","ɵɵresetView","removePhoto","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵproperty","ctx_r3","photos","ɵɵsanitizeUrl","EditListingComponent_div_17_div_16_div_1_Template_button_click_2_listener","_r18","i_r12","index","ctx_r16","photo_r11","EditListingComponent_div_17_div_16_Template_div_dragover_0_listener","_r21","ctx_r20","onDragOver","EditListingComponent_div_17_div_16_Template_div_drop_0_listener","restoredCtx","ctx_r22","onDrop","EditListingComponent_div_17_div_16_Template_div_click_0_listener","ctx_r23","triggerFileInput","ɵɵtemplate","EditListingComponent_div_17_div_16_div_1_Template","EditListingComponent_div_17_div_16_ng_template_2_Template","ɵɵtemplateRefExtractor","_r14","EditListingComponent_div_17_Template_form_ngSubmit_2_listener","_r25","ctx_r24","onSubmit","EditListingComponent_div_17_Template_div_dragover_11_listener","ctx_r26","EditListingComponent_div_17_Template_div_drop_11_listener","ctx_r27","EditListingComponent_div_17_Template_div_click_11_listener","ctx_r28","EditListingComponent_div_17_div_12_Template","EditListingComponent_div_17_ng_template_13_Template","EditListingComponent_div_17_div_16_Template","EditListingComponent_div_17_div_53_Template","EditListingComponent_div_17_div_64_Template","EditListingComponent_div_17_Template_button_click_102_listener","ctx_r29","suggestDescription","EditListingComponent_div_17_Template_button_click_107_listener","ctx_r30","cancel","ctx_r0","listingForm","ɵɵtextInterpolate1","getPhotoCount","_r4","slice","getPreviewImage","ɵɵtextInterpolate","tmp_6_0","get","value","tmp_7_0","tmp_8_0","ɵɵclassProp","isEssentialComplete","tmp_10_0","invalid","touched","tmp_11_0","tmp_12_0","tmp_13_0","tmp_14_0","getCharacterCount","isSubmitting","ctx_r2","errorMessage","EditListingComponent","constructor","fb","route","router","listingService","authService","notificationService","listing","photoFiles","showSuccessNotification","showFailedNotification","isLoading","initForm","group","title","required","measurement","quality","price","min","description","maxLength","deleteExistingPhotos","ngOnInit","params","subscribe","listingId","isNaN","loadListing","navigate","getListingById","next","console","log","userId","getCurrentUserId","show","patchValue","photoUrls","length","forEach","url","getImageUrl","error","startsWith","baseUrl","apiUrl","split","fileInput","document","createElement","type","accept","onchange","event","onFileSelected","click","file","target","files","reader","FileReader","onload","e","result","readAsDataURL","valid","formData","FormData","formValues","append","toString","undefined","hasNewPhotos","updateListing","response","setTimeout","errors","key","hasOwnProperty","join","message","err","Object","keys","controls","control","markAsTouched","ɵɵdirectiveInject","i1","FormBuilder","i2","ActivatedRoute","Router","i3","ListingService","i4","AuthService","i5","NotificationService","selectors","decls","vars","consts","template","EditListingComponent_Template","rf","ctx","EditListingComponent_div_17_Template","EditListingComponent_div_19_Template","EditListingComponent_div_20_Template","hasBasicInfo","getSaveStatusClass","getSaveStatusIcon","saveStatusMessage"],"sources":["C:\\Users\\leust\\source\\repos\\MPP-main\\Thrifto\\thrifto.client\\src\\app\\components\\edit-listing\\edit-listing.component.ts","C:\\Users\\leust\\source\\repos\\MPP-main\\Thrifto\\thrifto.client\\src\\app\\components\\edit-listing\\edit-listing.component.html"],"sourcesContent":["// src/app/components/edit-listing/edit-listing.component.ts\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ListingService } from '../../services/listing.service';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { NotificationService } from '../../services/notification.service';\r\nimport { Listing } from '../../models/listing.model';\r\nimport { environment } from '../../../environments/environment';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-edit-listing',\r\n  templateUrl: './edit-listing.component.html',\r\n  styleUrls: ['./edit-listing.component.scss']\r\n})\r\nexport class EditListingComponent implements OnInit {\r\n  listingId!: number;\r\n  listing: Listing | null = null;\r\n  listingForm!: FormGroup;\r\n  photos: (string | null)[] = [null, null, null, null]; // Four photo placeholders\r\n  photoFiles: (File | null)[] = [null, null, null, null]; // Store the actual file objects\r\n  showSuccessNotification = false;\r\n  showFailedNotification = false;\r\n  isSubmitting = false;\r\n  isLoading = true;\r\n  errorMessage: string = '';\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private listingService: ListingService,\r\n    private authService: AuthService,\r\n    private notificationService: NotificationService\r\n  ) {\r\n    // Initialize the form here\r\n    this.initForm();\r\n  }\r\n\r\n  // Initialize form separately to avoid null issues\r\n  initForm(): void {\r\n    this.listingForm = this.fb.group({\r\n      title: ['', Validators.required],\r\n      measurement: ['', Validators.required],\r\n      quality: ['NEW', Validators.required],\r\n      price: ['', [Validators.required, Validators.min(0.01)]],\r\n      description: ['', [Validators.maxLength(250)]], // Added description field with validation\r\n      deleteExistingPhotos: [false]\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.params.subscribe(params => {\r\n      this.listingId = +params['id'];\r\n      if (!isNaN(this.listingId)) {\r\n        this.loadListing();\r\n      } else {\r\n        this.router.navigate(['/sell']);\r\n      }\r\n    });\r\n  }\r\n\r\n  loadListing(): void {\r\n    this.isLoading = true;\r\n\r\n    this.listingService.getListingById(this.listingId).subscribe({\r\n      next: (listing) => {\r\n        this.listing = listing;\r\n        console.log('Loaded listing for editing:', listing);\r\n\r\n        // Check if the current user is the owner\r\n        if (listing.userId !== this.authService.getCurrentUserId()) {\r\n          this.notificationService.show('You do not have permission to edit this listing', 'error');\r\n          this.router.navigate(['/sell']);\r\n          return;\r\n        }\r\n\r\n        // Populate the form with safer null checks\r\n        this.listingForm.patchValue({\r\n          title: listing.title || '',\r\n          measurement: listing.measurement || '',\r\n          quality: listing.quality || 'NEW',\r\n          price: listing.price || '',\r\n          description: listing.description || '' // Make sure description is initialized\r\n        });\r\n\r\n        console.log('Form values after patch:', this.listingForm.value);\r\n\r\n        // Populate photo previews\r\n        if (listing.photoUrls?.length) {\r\n          listing.photoUrls.forEach((url, index) => {\r\n            if (index < 4) {\r\n              this.photos[index] = this.getImageUrl(url);\r\n            }\r\n          });\r\n        }\r\n\r\n        this.isLoading = false;\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading listing', error);\r\n        this.notificationService.show('Error loading listing details', 'error');\r\n        this.isLoading = false;\r\n        this.router.navigate(['/sell']);\r\n      }\r\n    });\r\n  }\r\n\r\n  getImageUrl(url: string): string {\r\n    if (!url) {\r\n      return 'assets/images/placeholder.png';\r\n    }\r\n\r\n    // If the URL is relative (from your backend)\r\n    if (url.startsWith('/')) {\r\n      const baseUrl = environment.apiUrl.split('/api')[0];\r\n      return `${baseUrl}${url}`;\r\n    }\r\n\r\n    return url;\r\n  }\r\n\r\n  triggerFileInput(index: number): void {\r\n    const fileInput = document.createElement('input');\r\n    fileInput.type = 'file';\r\n    fileInput.accept = 'image/*';\r\n    fileInput.onchange = (event: any) => {\r\n      this.onFileSelected(event, index);\r\n    };\r\n    fileInput.click();\r\n  }\r\n\r\n  onFileSelected(event: any, index: number): void {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      this.photoFiles[index] = file;\r\n\r\n      const reader = new FileReader();\r\n      reader.onload = (e: any) => {\r\n        this.photos[index] = e.target.result;\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  }\r\n\r\n  onSubmit(): void {\r\n    if (this.listingForm.valid) {\r\n      this.isSubmitting = true;\r\n      this.errorMessage = '';\r\n\r\n      try {\r\n        const formData = new FormData();\r\n\r\n        // Get all form values from the form\r\n        const formValues = this.listingForm.value;\r\n        console.log('Original form values:', formValues);\r\n\r\n        // Append form values - using lowercase to match model binding\r\n        formData.append('title', formValues.title || '');\r\n        formData.append('measurement', formValues.measurement || '');\r\n        formData.append('quality', formValues.quality || '');\r\n        formData.append('price', (formValues.price || 0).toString());\r\n\r\n        // Handle description field - ensure it's never null\r\n        const description = formValues.description !== null && formValues.description !== undefined\r\n          ? formValues.description\r\n          : '';\r\n        formData.append('description', description);\r\n\r\n        // Handle delete existing photos flag\r\n        formData.append('deleteExistingPhotos', formValues.deleteExistingPhotos ? 'true' : 'false');\r\n\r\n        // Add new photos if any\r\n        let hasNewPhotos = false;\r\n        this.photoFiles.forEach(file => {\r\n          if (file) {\r\n            formData.append('photos', file);\r\n            hasNewPhotos = true;\r\n          }\r\n        });\r\n\r\n        // Debug the form data\r\n        console.log('Submitting update with new photos:', hasNewPhotos);\r\n\r\n        this.listingService.updateListing(this.listingId, formData).subscribe({\r\n          next: (response) => {\r\n            this.isSubmitting = false;\r\n            this.showSuccessNotification = true;\r\n            this.notificationService.show('Listing updated successfully!', 'success');\r\n            setTimeout(() => {\r\n              this.showSuccessNotification = false;\r\n              this.router.navigate(['/listing', this.listingId]);\r\n            }, 2000);\r\n          },\r\n          error: (error: HttpErrorResponse) => {\r\n            this.isSubmitting = false;\r\n            this.showFailedNotification = true;\r\n\r\n            // Attempt to extract a more detailed error message\r\n            if (error.error) {\r\n              if (typeof error.error === 'string') {\r\n                this.errorMessage = error.error;\r\n              } else if (error.error.errors) {\r\n                this.errorMessage = 'Validation errors: ';\r\n                for (const key in error.error.errors) {\r\n                  if (error.error.errors.hasOwnProperty(key)) {\r\n                    this.errorMessage += `${key}: ${error.error.errors[key].join(', ')}; `;\r\n                  }\r\n                }\r\n              } else if (error.error.message) {\r\n                this.errorMessage = error.error.message;\r\n              }\r\n            }\r\n\r\n            console.error('Error updating listing', error);\r\n            this.notificationService.show(`Error updating listing: ${this.errorMessage || 'Unknown error'}`, 'error');\r\n\r\n            setTimeout(() => this.showFailedNotification = false, 3000);\r\n          }\r\n        });\r\n      } catch (err) {\r\n        this.isSubmitting = false;\r\n        this.showFailedNotification = true;\r\n        console.error('Exception while preparing form data:', err);\r\n        this.notificationService.show('Error preparing form data', 'error');\r\n        setTimeout(() => this.showFailedNotification = false, 3000);\r\n      }\r\n    } else {\r\n      // Form is invalid - highlight the errors\r\n      Object.keys(this.listingForm.controls).forEach(key => {\r\n        const control = this.listingForm.get(key);\r\n        if (control?.invalid) {\r\n          control.markAsTouched();\r\n        }\r\n      });\r\n      this.notificationService.show('Please fix the form errors before submitting', 'error');\r\n    }\r\n  }\r\n\r\n  cancel(): void {\r\n    this.router.navigate(['/listing', this.listingId]);\r\n  }\r\n}\r\n","<!-- src/app/components/edit-listing/edit-listing.component.html -->\r\n<div class=\"edit-listing-container\">\r\n\r\n    <!-- Progress Header: Clear Mental Model (Don't Make Me Think) -->\r\n    <div class=\"progress-header\">\r\n        <div class=\"container\">\r\n            <div class=\"progress-content\">\r\n                <div class=\"progress-indicator\">\r\n                    <div class=\"step-line\" [class.complete]=\"hasBasicInfo()\"></div>\r\n                    <div class=\"step-circle active\">\r\n                        <i class=\"fas fa-edit\"></i>\r\n                    </div>\r\n                </div>\r\n                <div class=\"progress-text\">\r\n                    <h1>Edit Your Listing</h1>\r\n                    <p>Make changes to keep your item attractive to buyers</p>\r\n                </div>\r\n                <div class=\"save-status\" [ngClass]=\"getSaveStatusClass()\">\r\n                    <i class=\"fas\" [ngClass]=\"getSaveStatusIcon()\"></i>\r\n                    <span>{{ saveStatusMessage }}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Main Edit Workspace: Focused Layout -->\r\n    <div class=\"edit-workspace\" *ngIf=\"listing\">\r\n        <div class=\"container\">\r\n\r\n            <form [formGroup]=\"listingForm\" (ngSubmit)=\"onSubmit()\" class=\"edit-form\">\r\n\r\n                <!-- Left Column: Visual Content -->\r\n                <div class=\"visual-section\">\r\n\r\n                    <!-- Photo Management: Drag & Drop Experience -->\r\n                    <div class=\"photo-manager\">\r\n                        <div class=\"section-header\">\r\n                            <h3>\r\n                                <i class=\"fas fa-camera\"></i>\r\n                                Photos\r\n                            </h3>\r\n                            <span class=\"photo-count\">{{ getPhotoCount() }}/4</span>\r\n                        </div>\r\n\r\n                        <!-- Main Photo Display -->\r\n                        <div class=\"main-photo-container\"\r\n                             (dragover)=\"onDragOver($event)\"\r\n                             (drop)=\"onDrop($event, 0)\"\r\n                             (click)=\"triggerFileInput(0)\">\r\n\r\n                            <div class=\"photo-slot main-slot\" *ngIf=\"photos[0]; else emptyMainSlot\">\r\n                                <img [src]=\"photos[0]\" alt=\"Main product photo\">\r\n                                <div class=\"photo-controls\">\r\n                                    <button type=\"button\" class=\"photo-btn delete\" (click)=\"removePhoto(0, $event)\">\r\n                                        <i class=\"fas fa-trash\"></i>\r\n                                    </button>\r\n                                </div>\r\n                                <div class=\"main-badge\">Main</div>\r\n                            </div>\r\n\r\n                            <ng-template #emptyMainSlot>\r\n                                <div class=\"empty-slot main-empty\">\r\n                                    <i class=\"fas fa-camera-retro\"></i>\r\n                                    <span class=\"primary-text\">Add Main Photo</span>\r\n                                    <span class=\"secondary-text\">Drag & drop or click to upload</span>\r\n                                </div>\r\n                            </ng-template>\r\n                        </div>\r\n\r\n                        <!-- Additional Photos Grid -->\r\n                        <div class=\"additional-photos\">\r\n                            <div *ngFor=\"let photo of photos.slice(1, 4); let i = index\"\r\n                                 class=\"photo-slot additional-slot\"\r\n                                 (dragover)=\"onDragOver($event)\"\r\n                                 (drop)=\"onDrop($event, i + 1)\"\r\n                                 (click)=\"triggerFileInput(i + 1)\">\r\n\r\n                                <div *ngIf=\"photo; else emptySlot\" class=\"photo-content\">\r\n                                    <img [src]=\"photo\" alt=\"Additional photo\">\r\n                                    <button type=\"button\" class=\"photo-btn delete\" (click)=\"removePhoto(i + 1, $event)\">\r\n                                        <i class=\"fas fa-times\"></i>\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <ng-template #emptySlot>\r\n                                    <div class=\"empty-slot\">\r\n                                        <i class=\"fas fa-plus\"></i>\r\n                                        <span>Add Photo</span>\r\n                                    </div>\r\n                                </ng-template>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- Photo Options -->\r\n                        <div class=\"photo-options\">\r\n                            <label class=\"option-toggle\">\r\n                                <input type=\"checkbox\" formControlName=\"deleteExistingPhotos\">\r\n                                <span class=\"toggle-slider\"></span>\r\n                                <span class=\"option-text\">Replace all existing photos</span>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Live Preview Card (Seductive Design) -->\r\n                    <div class=\"preview-card\">\r\n                        <div class=\"preview-header\">\r\n                            <i class=\"fas fa-eye\"></i>\r\n                            <span>Live Preview</span>\r\n                        </div>\r\n                        <div class=\"preview-content\">\r\n                            <div class=\"preview-image\">\r\n                                <img [src]=\"getPreviewImage()\" alt=\"Preview\">\r\n                            </div>\r\n                            <div class=\"preview-info\">\r\n                                <h4>{{ listingForm.get('title')?.value || 'Your Item Title' }}</h4>\r\n                                <p class=\"preview-price\">${{ listingForm.get('price')?.value || '0.00' }}</p>\r\n                                <span class=\"preview-quality\">{{ listingForm.get('quality')?.value || 'Quality' }}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Right Column: Form Content -->\r\n                <div class=\"form-section\">\r\n\r\n                    <!-- Essential Details: Progressive Form Design -->\r\n                    <div class=\"form-group-set\">\r\n                        <div class=\"set-header\">\r\n                            <h3>\r\n                                <i class=\"fas fa-info-circle\"></i>\r\n                                Essential Details\r\n                            </h3>\r\n                            <div class=\"completion-indicator\" [class.complete]=\"isEssentialComplete()\">\r\n                                <i class=\"fas fa-check\"></i>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- Title Input: Most Important -->\r\n                        <div class=\"form-group priority\">\r\n                            <label class=\"form-label\">\r\n                                <span class=\"label-text\">Title</span>\r\n                                <span class=\"label-hint\">Make it descriptive and searchable</span>\r\n                            </label>\r\n                            <input type=\"text\"\r\n                                   formControlName=\"title\"\r\n                                   class=\"form-input\"\r\n                                   placeholder=\"e.g., Vintage Levi's Denim Jacket\"\r\n                                   [class.error]=\"listingForm.get('title')?.invalid && listingForm.get('title')?.touched\">\r\n                            <div class=\"input-feedback\" *ngIf=\"listingForm.get('title')?.invalid && listingForm.get('title')?.touched\">\r\n                                <i class=\"fas fa-exclamation-triangle\"></i>\r\n                                Title is required\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- Price Input: Clear Value Prop -->\r\n                        <div class=\"form-group priority\">\r\n                            <label class=\"form-label\">\r\n                                <span class=\"label-text\">Price</span>\r\n                                <span class=\"label-hint\">Competitive pricing gets more views</span>\r\n                            </label>\r\n                            <div class=\"price-input-wrapper\">\r\n                                <span class=\"currency-symbol\">$</span>\r\n                                <input type=\"number\"\r\n                                       formControlName=\"price\"\r\n                                       class=\"form-input price-input\"\r\n                                       placeholder=\"0.00\"\r\n                                       step=\"0.01\"\r\n                                       min=\"0.01\"\r\n                                       [class.error]=\"listingForm.get('price')?.invalid && listingForm.get('price')?.touched\">\r\n                            </div>\r\n                            <div class=\"input-feedback\" *ngIf=\"listingForm.get('price')?.invalid && listingForm.get('price')?.touched\">\r\n                                <i class=\"fas fa-exclamation-triangle\"></i>\r\n                                Please enter a valid price\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- Quality & Size: Side by Side -->\r\n                        <div class=\"form-row\">\r\n                            <div class=\"form-group\">\r\n                                <label class=\"form-label\">\r\n                                    <span class=\"label-text\">Quality</span>\r\n                                </label>\r\n                                <select formControlName=\"quality\" class=\"form-select\">\r\n                                    <option value=\"NEW\">New</option>\r\n                                    <option value=\"LIKE NEW\">Like New</option>\r\n                                    <option value=\"BARELY WORN\">Barely Worn</option>\r\n                                    <option value=\"USED\">Used</option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div class=\"form-group\">\r\n                                <label class=\"form-label\">\r\n                                    <span class=\"label-text\">Size/Measurement</span>\r\n                                </label>\r\n                                <input type=\"text\"\r\n                                       formControlName=\"measurement\"\r\n                                       class=\"form-input\"\r\n                                       placeholder=\"e.g., M, 32W, UK 10\"\r\n                                       [class.error]=\"listingForm.get('measurement')?.invalid && listingForm.get('measurement')?.touched\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Description: Progressive Disclosure -->\r\n                    <div class=\"form-group-set\">\r\n                        <div class=\"set-header\">\r\n                            <h3>\r\n                                <i class=\"fas fa-align-left\"></i>\r\n                                Description\r\n                            </h3>\r\n                            <div class=\"optional-badge\">Optional</div>\r\n                        </div>\r\n\r\n                        <div class=\"form-group\">\r\n                            <label class=\"form-label\">\r\n                                <span class=\"label-text\">Tell buyers more about this item</span>\r\n                                <span class=\"label-hint\">Mention condition details, brand, style, or why you're selling</span>\r\n                            </label>\r\n                            <textarea formControlName=\"description\"\r\n                                      class=\"form-textarea\"\r\n                                      rows=\"4\"\r\n                                      maxlength=\"250\"\r\n                                      placeholder=\"This item is in excellent condition with no visible wear. I'm selling because...\"></textarea>\r\n\r\n                            <div class=\"textarea-footer\">\r\n                                <div class=\"character-counter\">\r\n                                    <span [class.warning]=\"getCharacterCount() > 220\">\r\n                                        {{ getCharacterCount() }}/250\r\n                                    </span>\r\n                                </div>\r\n                                <button type=\"button\" class=\"text-helper-btn\" (click)=\"suggestDescription()\">\r\n                                    <i class=\"fas fa-magic\"></i>\r\n                                    Get suggestions\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Action Zone: Clear & Confident -->\r\n                    <div class=\"action-zone\">\r\n                        <div class=\"action-buttons\">\r\n                            <button type=\"button\"\r\n                                    class=\"btn-secondary\"\r\n                                    (click)=\"cancel()\"\r\n                                    [disabled]=\"isSubmitting\">\r\n                                <i class=\"fas fa-times\"></i>\r\n                                <span>Cancel</span>\r\n                            </button>\r\n\r\n                            <button type=\"submit\"\r\n                                    class=\"btn-primary\"\r\n                                    [disabled]=\"listingForm.invalid || isSubmitting\">\r\n                                <div class=\"btn-content\">\r\n                                    <i class=\"fas\" [ngClass]=\"isSubmitting ? 'fa-spinner fa-spin' : 'fa-save'\"></i>\r\n                                    <span>{{ isSubmitting ? 'Updating...' : 'Update Listing' }}</span>\r\n                                </div>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <!-- Confidence Builder -->\r\n                        <div class=\"action-footer\">\r\n                            <div class=\"confidence-items\">\r\n                                <div class=\"confidence-item\">\r\n                                    <i class=\"fas fa-shield-alt\"></i>\r\n                                    <span>Changes saved securely</span>\r\n                                </div>\r\n                                <div class=\"confidence-item\">\r\n                                    <i class=\"fas fa-eye\"></i>\r\n                                    <span>Preview before publishing</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Success/Error States: Immediate Feedback -->\r\n    <div class=\"feedback-overlay\" [class.visible]=\"showSuccessNotification || showFailedNotification\">\r\n        <div class=\"feedback-card success\" *ngIf=\"showSuccessNotification\">\r\n            <i class=\"fas fa-check-circle\"></i>\r\n            <h3>Listing Updated!</h3>\r\n            <p>Your changes have been saved successfully</p>\r\n        </div>\r\n\r\n        <div class=\"feedback-card error\" *ngIf=\"showFailedNotification\">\r\n            <i class=\"fas fa-exclamation-circle\"></i>\r\n            <h3>Update Failed</h3>\r\n            <p>{{ errorMessage || 'Please try again or contact support' }}</p>\r\n        </div>\r\n    </div>\r\n\r\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}