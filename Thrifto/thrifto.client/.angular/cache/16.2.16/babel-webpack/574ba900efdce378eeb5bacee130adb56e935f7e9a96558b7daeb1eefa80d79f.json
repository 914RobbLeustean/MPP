{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/listing.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../services/pagination.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../../directives/infinite-scroll.directive\";\nimport * as i7 from \"../shared/search-bar/search-bar.component\";\nimport * as i8 from \"../shared/listing-item/listing-item.component\";\nfunction NewListingsComponent_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const quality_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", quality_r6.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(quality_r6.label);\n  }\n}\nfunction NewListingsComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"p\");\n    i0.ɵɵtext(2, \"No listings found matching your criteria.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function NewListingsComponent_div_23_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.clearFilters());\n    });\n    i0.ɵɵtext(4, \"Clear filters\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction NewListingsComponent_div_25_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"app-listing-item\", 26);\n    i0.ɵɵlistener(\"click\", function NewListingsComponent_div_25_div_1_Template_app_listing_item_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const listing_r10 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.viewListingDetails(listing_r10.id));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const listing_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"listing\", listing_r10);\n  }\n}\nfunction NewListingsComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtemplate(1, NewListingsComponent_div_25_div_1_Template, 2, 1, \"div\", 24);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.listings);\n  }\n}\nfunction NewListingsComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function NewListingsComponent_div_26_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.loadMoreManually());\n    });\n    i0.ɵɵelementStart(2, \"span\", 29);\n    i0.ɵɵtext(3, \"Load More Listings\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 30);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(5, \"svg\", 31);\n    i0.ɵɵelement(6, \"path\", 32);\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction NewListingsComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵelement(1, \"div\", 34);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Loading more listings...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction NewListingsComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35)(1, \"p\");\n    i0.ɵɵtext(2, \"You've reached the end of the listings\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class NewListingsComponent {\n  constructor(listingService, router, route, paginationService // Inject PaginationService and make it public to use in template\n  ) {\n    this.listingService = listingService;\n    this.router = router;\n    this.route = route;\n    this.paginationService = paginationService;\n    this.listings = [];\n    this.isLoading = false;\n    // Filtering and sorting\n    this.sortBy = 'newest';\n    this.selectedQuality = '';\n    this.routeSubscription = null;\n    this.pageSubscription = null;\n    this.qualities = [{\n      label: 'New',\n      value: 'NEW'\n    }, {\n      label: 'Like New',\n      value: 'LIKE NEW'\n    }, {\n      label: 'Barely Worn',\n      value: 'BARELY WORN'\n    }, {\n      label: 'Used',\n      value: 'USED'\n    }];\n  }\n  ngOnInit() {\n    // Reset pagination\n    this.paginationService.reset();\n    // Subscribe to query params changes\n    this.routeSubscription = this.route.queryParams.subscribe(params => {\n      // Reset listings when filters change\n      this.listings = [];\n      // Set filters from URL\n      this.selectedQuality = params['quality'] || '';\n      this.sortBy = params['sort'] || 'newest';\n      // Reset pagination\n      this.paginationService.reset();\n      // Load first page\n      this.loadListings();\n    });\n    // Subscribe to page changes for infinite scrolling\n    this.pageSubscription = this.paginationService.page$.subscribe(page => {\n      if (page > 1) {\n        // Skip first page since it's already loaded by route subscription\n        this.loadListings();\n      }\n    });\n  }\n  ngOnDestroy() {\n    if (this.routeSubscription) {\n      this.routeSubscription.unsubscribe();\n    }\n    if (this.pageSubscription) {\n      this.pageSubscription.unsubscribe();\n    }\n  }\n  loadListings() {\n    // Skip if already loading\n    if (this.isLoading) return;\n    this.isLoading = true;\n    this.paginationService.setLoading(true);\n    // Prepare parameters\n    const params = {\n      page: this.paginationService.currentPage,\n      pageSize: this.paginationService.currentPageSize\n    };\n    if (this.selectedQuality) {\n      params.quality = this.selectedQuality;\n    }\n    if (this.sortBy !== 'newest') {\n      params.sortBy = this.sortBy;\n    }\n    console.log('Loading listings with params:', params);\n    this.listingService.getListings(params).subscribe({\n      next: response => {\n        // For first page, replace the array; for subsequent pages, append\n        if (this.paginationService.currentPage === 1) {\n          this.listings = response.items;\n        } else {\n          // Append new items to the existing array\n          this.listings = [...this.listings, ...response.items];\n        }\n        // Update pagination info\n        this.paginationService.setTotalCount(response.totalCount);\n        console.log(`Total items: ${response.totalCount}, Current items: ${this.listings.length}`);\n        this.isLoading = false;\n        this.paginationService.setLoading(false);\n      },\n      error: error => {\n        console.error('Error loading listings', error);\n        this.isLoading = false;\n        this.paginationService.setLoading(false);\n      }\n    });\n  }\n  onScroll() {\n    // Load next page when user scrolls to bottom\n    if (!this.isLoading && this.paginationService.hasMoreItems) {\n      this.paginationService.nextPage();\n    }\n  }\n  onSearch(query) {\n    this.router.navigate(['/search'], {\n      queryParams: {\n        q: query\n      }\n    });\n  }\n  onSortChange() {\n    this.updateQueryParams();\n  }\n  onQualityChange() {\n    this.updateQueryParams();\n  }\n  updateQueryParams() {\n    // Create a clean object with only the necessary params\n    const queryParams = {};\n    // Only add quality if it's not empty (i.e., not \"All\")\n    if (this.selectedQuality) {\n      queryParams.quality = this.selectedQuality;\n    }\n    // Only add sort if it's not the default\n    if (this.sortBy !== 'newest') {\n      queryParams.sort = this.sortBy;\n    }\n    console.log('Updating with query params:', queryParams);\n    // Use replaceUrl: true to ensure a clean navigation\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: queryParams,\n      replaceUrl: true // Replace the URL instead of merging params\n    });\n  }\n  // src/app/components/new-listings/new-listings.component.ts\n  viewListingDetails(id) {\n    // Find the listing in our already-loaded data\n    const listing = this.listings.find(l => l.id === id);\n    if (listing) {\n      // Pass the listing data for instant display\n      this.router.navigate(['/listing', id], {\n        state: {\n          listing: listing\n        }\n      });\n    } else {\n      // Fallback if listing not found in current array\n      this.router.navigate(['/listing', id]);\n    }\n  }\n  clearFilters() {\n    this.selectedQuality = '';\n    this.sortBy = 'newest';\n    this.updateQueryParams();\n  }\n  loadMoreManually() {\n    console.log(\"Manual load more triggered\");\n    this.paginationService.nextPage();\n  }\n  static {\n    this.ɵfac = function NewListingsComponent_Factory(t) {\n      return new (t || NewListingsComponent)(i0.ɵɵdirectiveInject(i1.ListingService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.PaginationService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: NewListingsComponent,\n      selectors: [[\"app-new-listings\"]],\n      decls: 29,\n      vars: 10,\n      consts: [[1, \"container\"], [1, \"listings-header\"], [3, \"liveUpdate\", \"searchQuery\"], [1, \"filters-bar\"], [1, \"filter-group\"], [\"for\", \"quality\"], [\"id\", \"quality\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"sortBy\"], [\"id\", \"sortBy\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"newest\"], [\"value\", \"price_asc\"], [\"value\", \"price_desc\"], [\"class\", \"no-results\", 4, \"ngIf\"], [\"appInfiniteScroll\", \"\", 1, \"listings-wrapper\", 3, \"disabled\", \"scrolled\"], [\"class\", \"listings-grid\", 4, \"ngIf\"], [\"class\", \"load-more-container\", 4, \"ngIf\"], [\"class\", \"infinite-scroll-loader\", 4, \"ngIf\"], [\"class\", \"end-of-results\", 4, \"ngIf\"], [3, \"value\"], [1, \"no-results\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"listings-grid\"], [\"class\", \"\\n           \", 4, \"ngFor\", \"ngForOf\"], [1, \"\"], [3, \"listing\", \"click\"], [1, \"load-more-container\"], [1, \"load-more-btn\", 3, \"click\"], [1, \"btn-text\"], [1, \"btn-icon\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\"], [\"d\", \"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"], [1, \"infinite-scroll-loader\"], [1, \"loading-spinner\"], [1, \"end-of-results\"]],\n      template: function NewListingsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n          i0.ɵɵtext(3, \"Listings\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"app-search-bar\", 2);\n          i0.ɵɵlistener(\"searchQuery\", function NewListingsComponent_Template_app_search_bar_searchQuery_4_listener($event) {\n            return ctx.onSearch($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(5, \"div\", 3)(6, \"div\", 4)(7, \"label\", 5);\n          i0.ɵɵtext(8, \"Quality:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"select\", 6);\n          i0.ɵɵlistener(\"ngModelChange\", function NewListingsComponent_Template_select_ngModelChange_9_listener($event) {\n            return ctx.selectedQuality = $event;\n          })(\"change\", function NewListingsComponent_Template_select_change_9_listener() {\n            return ctx.onQualityChange();\n          });\n          i0.ɵɵelementStart(10, \"option\", 7);\n          i0.ɵɵtext(11, \"All\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(12, NewListingsComponent_option_12_Template, 2, 2, \"option\", 8);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(13, \"div\", 4)(14, \"label\", 9);\n          i0.ɵɵtext(15, \"Sort by:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"select\", 10);\n          i0.ɵɵlistener(\"ngModelChange\", function NewListingsComponent_Template_select_ngModelChange_16_listener($event) {\n            return ctx.sortBy = $event;\n          })(\"change\", function NewListingsComponent_Template_select_change_16_listener() {\n            return ctx.onSortChange();\n          });\n          i0.ɵɵelementStart(17, \"option\", 11);\n          i0.ɵɵtext(18, \"Newest\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"option\", 12);\n          i0.ɵɵtext(20, \"Price: Low to High\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"option\", 13);\n          i0.ɵɵtext(22, \"Price: High to Low\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵtemplate(23, NewListingsComponent_div_23_Template, 5, 0, \"div\", 14);\n          i0.ɵɵelementStart(24, \"div\", 15);\n          i0.ɵɵlistener(\"scrolled\", function NewListingsComponent_Template_div_scrolled_24_listener() {\n            return ctx.onScroll();\n          });\n          i0.ɵɵtemplate(25, NewListingsComponent_div_25_Template, 2, 1, \"div\", 16);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(26, NewListingsComponent_div_26_Template, 7, 0, \"div\", 17);\n          i0.ɵɵtemplate(27, NewListingsComponent_div_27_Template, 4, 0, \"div\", 18);\n          i0.ɵɵtemplate(28, NewListingsComponent_div_28_Template, 3, 0, \"div\", 19);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"liveUpdate\", false);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.selectedQuality);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.qualities);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.sortBy);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.listings.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.listings.length > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.listings.length > 0 && ctx.paginationService.hasMoreItems && !ctx.isLoading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.listings.length > 0 && !ctx.paginationService.hasMoreItems && !ctx.isLoading);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgModel, i6.InfiniteScrollDirective, i7.SearchBarComponent, i8.ListingItemComponent],\n      styles: [\"\\n\\n.container[_ngcontent-%COMP%] {\\n  max-width: 1200px;\\n  margin: 0 auto;\\n  padding: 40px 20px;\\n}\\n\\n.listings-header[_ngcontent-%COMP%] {\\n  margin-bottom: 30px;\\n}\\n.listings-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  font-size: 28px;\\n  margin-bottom: 20px;\\n  color: #333;\\n}\\n\\n.filters-bar[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-end;\\n  margin-bottom: 30px;\\n  background-color: white;\\n  padding: 15px 20px;\\n  border-radius: 8px;\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\\n}\\n.filters-bar[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%] {\\n  margin-left: 20px;\\n}\\n.filters-bar[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  margin-right: 8px;\\n  color: #666;\\n}\\n.filters-bar[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\n  padding: 8px 12px;\\n  border: 1px solid #ddd;\\n  border-radius: 4px;\\n  background-color: white;\\n  color: #333;\\n}\\n.filters-bar[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: #a83939;\\n}\\n@media (max-width: 576px) {\\n  .filters-bar[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n  }\\n  .filters-bar[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%] {\\n    margin-left: 0;\\n    margin-bottom: 10px;\\n  }\\n  .filters-bar[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]:last-child {\\n    margin-bottom: 0;\\n  }\\n}\\n\\n.listings-wrapper[_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin-bottom: 30px;\\n}\\n\\n.listings-grid[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(4, 1fr);\\n  gap: 20px;\\n}\\n@media (max-width: 992px) {\\n  .listings-grid[_ngcontent-%COMP%] {\\n    grid-template-columns: repeat(3, 1fr);\\n  }\\n}\\n@media (max-width: 768px) {\\n  .listings-grid[_ngcontent-%COMP%] {\\n    grid-template-columns: repeat(2, 1fr);\\n  }\\n}\\n@media (max-width: 576px) {\\n  .listings-grid[_ngcontent-%COMP%] {\\n    grid-template-columns: 1fr;\\n  }\\n}\\n.listings-grid[_ngcontent-%COMP%]   .listing-card[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\\n}\\n.listings-grid[_ngcontent-%COMP%]   .listing-card[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-5px);\\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\\n}\\n\\n.no-results[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 40px 0;\\n  background-color: white;\\n  border-radius: 8px;\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\\n}\\n.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n  color: #666;\\n}\\n.no-results[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%] {\\n  background-color: #a83939;\\n  color: white;\\n  border: none;\\n  padding: 8px 16px;\\n  border-radius: 4px;\\n  cursor: pointer;\\n}\\n.no-results[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover {\\n  background-color: #822c2c;\\n}\\n\\n.loading-spinner[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  padding: 40px 0;\\n}\\n.loading-spinner[_ngcontent-%COMP%]:after {\\n  content: \\\"\\\";\\n  width: 40px;\\n  height: 40px;\\n  border: 4px solid #f3f3f3;\\n  border-top: 4px solid #a83939;\\n  border-radius: 50%;\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n}\\n\\n.infinite-scroll-loader[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  padding: 20px 0;\\n  margin-top: 20px;\\n}\\n.infinite-scroll-loader[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%] {\\n  width: 36px;\\n  height: 36px;\\n  border: 3px solid #f3f3f3;\\n  border-top: 3px solid #a83939;\\n  border-radius: 50%;\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n  margin-bottom: 10px;\\n  padding: 0;\\n}\\n.infinite-scroll-loader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  color: #666;\\n  font-size: 14px;\\n}\\n\\n.load-more-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  margin: 40px 0;\\n}\\n\\n.load-more-btn[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 10px;\\n  padding: 12px 24px;\\n  background-color: #a83939;\\n  color: white;\\n  border: none;\\n  border-radius: 8px;\\n  font-size: 16px;\\n  font-weight: 600;\\n  letter-spacing: 0.5px;\\n  transition: all 0.3s ease;\\n  box-shadow: 0 4px 6px rgba(168, 57, 57, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08);\\n  cursor: pointer;\\n  position: relative;\\n  overflow: hidden;\\n  \\n\\n}\\n.load-more-btn[_ngcontent-%COMP%]::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  width: 5px;\\n  height: 5px;\\n  background: rgba(255, 255, 255, 0.5);\\n  opacity: 0;\\n  border-radius: 100%;\\n  transform: scale(1, 1) translate(-50%, -50%);\\n  transform-origin: 50% 50%;\\n}\\n.load-more-btn[_ngcontent-%COMP%]:hover {\\n  background-color: #822c2c;\\n  transform: translateY(-2px);\\n  box-shadow: 0 7px 14px rgba(168, 57, 57, 0.2), 0 3px 6px rgba(0, 0, 0, 0.1);\\n}\\n.load-more-btn[_ngcontent-%COMP%]:hover   .btn-icon[_ngcontent-%COMP%] {\\n  transform: rotate(90deg);\\n}\\n.load-more-btn[_ngcontent-%COMP%]:active {\\n  transform: translateY(1px);\\n  box-shadow: 0 2px 4px rgba(168, 57, 57, 0.1), 0 1px 2px rgba(0, 0, 0, 0.08);\\n}\\n.load-more-btn[_ngcontent-%COMP%]:active::after {\\n  animation: _ngcontent-%COMP%_ripple 1s ease-out;\\n}\\n.load-more-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%] {\\n  position: relative;\\n}\\n.load-more-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  transition: transform 0.3s ease;\\n}\\n@media (max-width: 576px) {\\n  .load-more-btn[_ngcontent-%COMP%] {\\n    width: 100%;\\n    max-width: 300px;\\n  }\\n}\\n\\n\\n\\n@keyframes _ngcontent-%COMP%_ripple {\\n  0% {\\n    transform: scale(0, 0);\\n    opacity: 0.5;\\n  }\\n  20% {\\n    transform: scale(25, 25);\\n    opacity: 0.5;\\n  }\\n  100% {\\n    opacity: 0;\\n    transform: scale(40, 40);\\n  }\\n}\\n\\n\\n.infinite-scroll-loader[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  padding: 30px 0;\\n  margin-top: 20px;\\n}\\n.infinite-scroll-loader[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%] {\\n  width: 40px;\\n  height: 40px;\\n  border: 3px solid rgba(168, 57, 57, 0.1);\\n  border-top: 3px solid #a83939;\\n  border-radius: 50%;\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n  margin-bottom: 15px;\\n}\\n.infinite-scroll-loader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  color: #666;\\n  font-size: 15px;\\n  font-weight: 500;\\n}\\n\\n.end-of-results[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 25px;\\n  margin: 30px 0;\\n  color: #666;\\n  background-color: #f9f9f9;\\n  border-radius: 8px;\\n  border: 1px dashed #ddd;\\n}\\n.end-of-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0;\\n  font-weight: 500;\\n}\\n\\n.end-of-results[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 20px 0;\\n  margin-top: 20px;\\n  color: #666;\\n  background-color: #f9f9f9;\\n  border-radius: 4px;\\n}\\n\\n@keyframes _ngcontent-%COMP%_spin {\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9uZXctbGlzdGluZ3MvbmV3LWxpc3RpbmdzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdFQUFBO0FBQ0E7RUFDRSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsbUJBQUE7QUFDRjtBQUNFO0VBQ0UsZUFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtBQUNKOztBQUdBO0VBQ0UsYUFBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSx5Q0FBQTtBQUFGO0FBRUU7RUFDRSxpQkFBQTtBQUFKO0FBRUk7RUFDRSxpQkFBQTtFQUNBLFdBQUE7QUFBTjtBQUdJO0VBQ0UsaUJBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0EsdUJBQUE7RUFDQSxXQUFBO0FBRE47QUFHTTtFQUNFLGFBQUE7RUFDQSxxQkFBQTtBQURSO0FBTUU7RUEvQkY7SUFnQ0ksc0JBQUE7RUFIRjtFQUtFO0lBQ0UsY0FBQTtJQUNBLG1CQUFBO0VBSEo7RUFLSTtJQUNFLGdCQUFBO0VBSE47QUFDRjs7QUFRQTtFQUNFLFdBQUE7RUFDQSxtQkFBQTtBQUxGOztBQVFBO0VBQ0UsYUFBQTtFQUNBLHFDQUFBO0VBQ0EsU0FBQTtBQUxGO0FBT0U7RUFMRjtJQU1JLHFDQUFBO0VBSkY7QUFDRjtBQU1FO0VBVEY7SUFVSSxxQ0FBQTtFQUhGO0FBQ0Y7QUFLRTtFQWJGO0lBY0ksMEJBQUE7RUFGRjtBQUNGO0FBSUU7RUFDRSxlQUFBO0VBQ0EscURBQUE7QUFGSjtBQUlJO0VBQ0UsMkJBQUE7RUFDQSx5Q0FBQTtBQUZOOztBQU9BO0VBQ0Usa0JBQUE7RUFDQSxlQUFBO0VBQ0EsdUJBQUE7RUFDQSxrQkFBQTtFQUNBLHlDQUFBO0FBSkY7QUFNRTtFQUNFLG1CQUFBO0VBQ0EsV0FBQTtBQUpKO0FBT0U7RUFDRSx5QkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7QUFMSjtBQU9JO0VBQ0UseUJBQUE7QUFMTjs7QUFVQTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtFQUNBLGVBQUE7QUFQRjtBQVNFO0VBQ0UsV0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7RUFDQSw2QkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0NBQUE7QUFQSjs7QUFXQTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FBUkY7QUFVRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7RUFDQSw2QkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0NBQUE7RUFDQSxtQkFBQTtFQUNBLFVBQUE7QUFSSjtBQVdFO0VBQ0UsV0FBQTtFQUNBLGVBQUE7QUFUSjs7QUFhQTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtFQUNBLGNBQUE7QUFWRjs7QUFhQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsU0FBQTtFQUNBLGtCQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EscUJBQUE7RUFDQSx5QkFBQTtFQUNBLDJFQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFFQSxrQkFBQTtBQVhGO0FBWUU7RUFDRSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0Esb0NBQUE7RUFDQSxVQUFBO0VBQ0EsbUJBQUE7RUFDQSw0Q0FBQTtFQUNBLHlCQUFBO0FBVko7QUFhRTtFQUNFLHlCQUFBO0VBQ0EsMkJBQUE7RUFDQSwyRUFBQTtBQVhKO0FBYUk7RUFDRSx3QkFBQTtBQVhOO0FBZUU7RUFDRSwwQkFBQTtFQUNBLDJFQUFBO0FBYko7QUFlSTtFQUNFLDZCQUFBO0FBYk47QUFpQkU7RUFDRSxrQkFBQTtBQWZKO0FBa0JFO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSwrQkFBQTtBQWhCSjtBQW1CRTtFQWhFRjtJQWlFSSxXQUFBO0lBQ0EsZ0JBQUE7RUFoQkY7QUFDRjs7QUFtQkEscUJBQUE7QUFDQTtFQUNFO0lBQ0Usc0JBQUE7SUFDQSxZQUFBO0VBaEJGO0VBbUJBO0lBQ0Usd0JBQUE7SUFDQSxZQUFBO0VBakJGO0VBb0JBO0lBQ0UsVUFBQTtJQUNBLHdCQUFBO0VBbEJGO0FBQ0Y7QUFxQkEsNkVBQUE7QUFDQTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FBbkJGO0FBcUJFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSx3Q0FBQTtFQUNBLDZCQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQ0FBQTtFQUNBLG1CQUFBO0FBbkJKO0FBc0JFO0VBQ0UsV0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQXBCSjs7QUF3QkE7RUFDRSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxjQUFBO0VBQ0EsV0FBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSx1QkFBQTtBQXJCRjtBQXVCRTtFQUNFLFNBQUE7RUFDQSxnQkFBQTtBQXJCSjs7QUF5QkE7RUFDRSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0FBdEJGOztBQXlCQTtFQUNFO0lBQ0UsdUJBQUE7RUF0QkY7RUF5QkE7SUFDRSx5QkFBQTtFQXZCRjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLyogc3JjL2FwcC9jb21wb25lbnRzL25ldy1saXN0aW5ncy9uZXctbGlzdGluZ3MuY29tcG9uZW50LnNjc3MgKi9cclxuLmNvbnRhaW5lciB7XHJcbiAgbWF4LXdpZHRoOiAxMjAwcHg7XHJcbiAgbWFyZ2luOiAwIGF1dG87XHJcbiAgcGFkZGluZzogNDBweCAyMHB4O1xyXG59XHJcblxyXG4ubGlzdGluZ3MtaGVhZGVyIHtcclxuICBtYXJnaW4tYm90dG9tOiAzMHB4O1xyXG5cclxuICBoMSB7XHJcbiAgICBmb250LXNpemU6IDI4cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgY29sb3I6ICMzMzM7XHJcbiAgfVxyXG59XHJcblxyXG4uZmlsdGVycy1iYXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICBtYXJnaW4tYm90dG9tOiAzMHB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gIHBhZGRpbmc6IDE1cHggMjBweDtcclxuICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgYm94LXNoYWRvdzogMCAycHggNXB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7XHJcblxyXG4gIC5maWx0ZXItZ3JvdXAge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDIwcHg7XHJcblxyXG4gICAgbGFiZWwge1xyXG4gICAgICBtYXJnaW4tcmlnaHQ6IDhweDtcclxuICAgICAgY29sb3I6ICM2NjY7XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZWN0IHtcclxuICAgICAgcGFkZGluZzogOHB4IDEycHg7XHJcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgIGNvbG9yOiAjMzMzO1xyXG5cclxuICAgICAgJjpmb2N1cyB7XHJcbiAgICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgICAgICBib3JkZXItY29sb3I6ICNhODM5Mzk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIEBtZWRpYSAobWF4LXdpZHRoOiA1NzZweCkge1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgICAuZmlsdGVyLWdyb3VwIHtcclxuICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcblxyXG4gICAgICAmOmxhc3QtY2hpbGQge1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi5saXN0aW5ncy13cmFwcGVyIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBtYXJnaW4tYm90dG9tOiAzMHB4O1xyXG59XHJcblxyXG4ubGlzdGluZ3MtZ3JpZCB7XHJcbiAgZGlzcGxheTogZ3JpZDtcclxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCg0LCAxZnIpO1xyXG4gIGdhcDogMjBweDtcclxuXHJcbiAgQG1lZGlhIChtYXgtd2lkdGg6IDk5MnB4KSB7XHJcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgzLCAxZnIpO1xyXG4gIH1cclxuXHJcbiAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XHJcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCAxZnIpO1xyXG4gIH1cclxuXHJcbiAgQG1lZGlhIChtYXgtd2lkdGg6IDU3NnB4KSB7XHJcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjtcclxuICB9XHJcblxyXG4gIC5saXN0aW5nLWNhcmQge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMgZWFzZSwgYm94LXNoYWRvdyAwLjJzIGVhc2U7XHJcblxyXG4gICAgJjpob3ZlciB7XHJcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNXB4KTtcclxuICAgICAgYm94LXNoYWRvdzogMCA1cHggMTVweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4ubm8tcmVzdWx0cyB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHBhZGRpbmc6IDQwcHggMDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgYm94LXNoYWRvdzogMCAycHggNXB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7XHJcblxyXG4gIHAge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICAgIGNvbG9yOiAjNjY2O1xyXG4gIH1cclxuXHJcbiAgLmJ0bi1wcmltYXJ5IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNhODM5Mzk7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBwYWRkaW5nOiA4cHggMTZweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuXHJcbiAgICAmOmhvdmVyIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogZGFya2VuKCNhODM5MzksIDEwJSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4ubG9hZGluZy1zcGlubmVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIHBhZGRpbmc6IDQwcHggMDtcclxuXHJcbiAgJjphZnRlciB7XHJcbiAgICBjb250ZW50OiAnJztcclxuICAgIHdpZHRoOiA0MHB4O1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgYm9yZGVyOiA0cHggc29saWQgI2YzZjNmMztcclxuICAgIGJvcmRlci10b3A6IDRweCBzb2xpZCAjYTgzOTM5O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgYW5pbWF0aW9uOiBzcGluIDFzIGxpbmVhciBpbmZpbml0ZTtcclxuICB9XHJcbn1cclxuXHJcbi5pbmZpbml0ZS1zY3JvbGwtbG9hZGVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBwYWRkaW5nOiAyMHB4IDA7XHJcbiAgbWFyZ2luLXRvcDogMjBweDtcclxuXHJcbiAgLmxvYWRpbmctc3Bpbm5lciB7XHJcbiAgICB3aWR0aDogMzZweDtcclxuICAgIGhlaWdodDogMzZweDtcclxuICAgIGJvcmRlcjogM3B4IHNvbGlkICNmM2YzZjM7XHJcbiAgICBib3JkZXItdG9wOiAzcHggc29saWQgI2E4MzkzOTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgcGFkZGluZzogMDtcclxuICB9XHJcblxyXG4gIHAge1xyXG4gICAgY29sb3I6ICM2NjY7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgfVxyXG59XHJcblxyXG4ubG9hZC1tb3JlLWNvbnRhaW5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBtYXJnaW46IDQwcHggMDtcclxufVxyXG5cclxuLmxvYWQtbW9yZS1idG4ge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBnYXA6IDEwcHg7XHJcbiAgcGFkZGluZzogMTJweCAyNHB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNhODM5Mzk7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgZm9udC1zaXplOiAxNnB4O1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4O1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XHJcbiAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMTY4LCA1NywgNTcsIDAuMSksIDAgMXB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMDgpO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuXHJcbiAgLyogUmlwcGxlIGVmZmVjdCAqL1xyXG4gICY6OmFmdGVyIHtcclxuICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiA1MCU7XHJcbiAgICBsZWZ0OiA1MCU7XHJcbiAgICB3aWR0aDogNXB4O1xyXG4gICAgaGVpZ2h0OiA1cHg7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7XHJcbiAgICBvcGFjaXR5OiAwO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTAwJTtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUoMSwgMSkgdHJhbnNsYXRlKC01MCUsIC01MCUpO1xyXG4gICAgdHJhbnNmb3JtLW9yaWdpbjogNTAlIDUwJTtcclxuICB9XHJcblxyXG4gICY6aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogZGFya2VuKCNhODM5MzksIDEwJSk7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XHJcbiAgICBib3gtc2hhZG93OiAwIDdweCAxNHB4IHJnYmEoMTY4LCA1NywgNTcsIDAuMiksIDAgM3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcblxyXG4gICAgLmJ0bi1pY29uIHtcclxuICAgICAgdHJhbnNmb3JtOiByb3RhdGUoOTBkZWcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJjphY3RpdmUge1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDFweCk7XHJcbiAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgxNjgsIDU3LCA1NywgMC4xKSwgMCAxcHggMnB4IHJnYmEoMCwgMCwgMCwgMC4wOCk7XHJcblxyXG4gICAgJjo6YWZ0ZXIge1xyXG4gICAgICBhbmltYXRpb246IHJpcHBsZSAxcyBlYXNlLW91dDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC5idG4tdGV4dCB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgfVxyXG5cclxuICAuYnRuLWljb24ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjNzIGVhc2U7XHJcbiAgfVxyXG5cclxuICBAbWVkaWEgKG1heC13aWR0aDogNTc2cHgpIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWF4LXdpZHRoOiAzMDBweDtcclxuICB9XHJcbn1cclxuXHJcbi8qIFJpcHBsZSBhbmltYXRpb24gKi9cclxuQGtleWZyYW1lcyByaXBwbGUge1xyXG4gIDAlIHtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUoMCwgMCk7XHJcbiAgICBvcGFjaXR5OiAwLjU7XHJcbiAgfVxyXG5cclxuICAyMCUge1xyXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgyNSwgMjUpO1xyXG4gICAgb3BhY2l0eTogMC41O1xyXG4gIH1cclxuXHJcbiAgMTAwJSB7XHJcbiAgICBvcGFjaXR5OiAwO1xyXG4gICAgdHJhbnNmb3JtOiBzY2FsZSg0MCwgNDApO1xyXG4gIH1cclxufVxyXG5cclxuLyogRW5oYW5jZSBleGlzdGluZyBzdHlsZXMgZm9yIGxvYWRpbmcgaW5kaWNhdG9yIGFuZCBlbmQtb2YtcmVzdWx0cyBtZXNzYWdlICovXHJcbi5pbmZpbml0ZS1zY3JvbGwtbG9hZGVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBwYWRkaW5nOiAzMHB4IDA7XHJcbiAgbWFyZ2luLXRvcDogMjBweDtcclxuXHJcbiAgLmxvYWRpbmctc3Bpbm5lciB7XHJcbiAgICB3aWR0aDogNDBweDtcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIGJvcmRlcjogM3B4IHNvbGlkIHJnYmEoMTY4LCA1NywgNTcsIDAuMSk7XHJcbiAgICBib3JkZXItdG9wOiAzcHggc29saWQgI2E4MzkzOTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG4gIH1cclxuXHJcbiAgcCB7XHJcbiAgICBjb2xvcjogIzY2NjtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgfVxyXG59XHJcblxyXG4uZW5kLW9mLXJlc3VsdHMge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBwYWRkaW5nOiAyNXB4O1xyXG4gIG1hcmdpbjogMzBweCAwO1xyXG4gIGNvbG9yOiAjNjY2O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIGJvcmRlcjogMXB4IGRhc2hlZCAjZGRkO1xyXG5cclxuICBwIHtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgfVxyXG59XHJcblxyXG4uZW5kLW9mLXJlc3VsdHMge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBwYWRkaW5nOiAyMHB4IDA7XHJcbiAgbWFyZ2luLXRvcDogMjBweDtcclxuICBjb2xvcjogIzY2NjtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1xyXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcclxufVxyXG5cclxuQGtleWZyYW1lcyBzcGluIHtcclxuICAwJSB7XHJcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcclxuICB9XHJcblxyXG4gIDEwMCUge1xyXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","quality_r6","value","ɵɵadvance","ɵɵtextInterpolate","label","ɵɵlistener","NewListingsComponent_div_23_Template_button_click_3_listener","ɵɵrestoreView","_r8","ctx_r7","ɵɵnextContext","ɵɵresetView","clearFilters","NewListingsComponent_div_25_div_1_Template_app_listing_item_click_1_listener","restoredCtx","_r12","listing_r10","$implicit","ctx_r11","viewListingDetails","id","ɵɵtemplate","NewListingsComponent_div_25_div_1_Template","ctx_r2","listings","NewListingsComponent_div_26_Template_button_click_1_listener","_r14","ctx_r13","loadMoreManually","ɵɵnamespaceSVG","ɵɵelement","NewListingsComponent","constructor","listingService","router","route","paginationService","isLoading","sortBy","selectedQuality","routeSubscription","pageSubscription","qualities","ngOnInit","reset","queryParams","subscribe","params","loadListings","page$","page","ngOnDestroy","unsubscribe","setLoading","currentPage","pageSize","currentPageSize","quality","console","log","getListings","next","response","items","setTotalCount","totalCount","length","error","onScroll","hasMoreItems","nextPage","onSearch","query","navigate","q","onSortChange","updateQueryParams","onQualityChange","sort","relativeTo","replaceUrl","listing","find","l","state","ɵɵdirectiveInject","i1","ListingService","i2","Router","ActivatedRoute","i3","PaginationService","selectors","decls","vars","consts","template","NewListingsComponent_Template","rf","ctx","NewListingsComponent_Template_app_search_bar_searchQuery_4_listener","$event","NewListingsComponent_Template_select_ngModelChange_9_listener","NewListingsComponent_Template_select_change_9_listener","NewListingsComponent_option_12_Template","NewListingsComponent_Template_select_ngModelChange_16_listener","NewListingsComponent_Template_select_change_16_listener","NewListingsComponent_div_23_Template","NewListingsComponent_Template_div_scrolled_24_listener","NewListingsComponent_div_25_Template","NewListingsComponent_div_26_Template","NewListingsComponent_div_27_Template","NewListingsComponent_div_28_Template"],"sources":["C:\\Users\\leust\\source\\repos\\MPP-main\\Thrifto\\thrifto.client\\src\\app\\components\\new-listings\\new-listings.component.ts","C:\\Users\\leust\\source\\repos\\MPP-main\\Thrifto\\thrifto.client\\src\\app\\components\\new-listings\\new-listings.component.html"],"sourcesContent":["// src/app/components/new-listings/new-listings.component.ts\r\nimport { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { ListingService } from '../../services/listing.service';\r\nimport { PaginationService } from '../../services/pagination.service';\r\nimport { Listing } from '../../models/listing.model';\r\n\r\n@Component({\r\n  selector: 'app-new-listings',\r\n  templateUrl: './new-listings.component.html',\r\n  styleUrls: ['./new-listings.component.scss']\r\n})\r\nexport class NewListingsComponent implements OnInit, OnDestroy {\r\n  listings: Listing[] = [];\r\n  isLoading = false;\r\n\r\n  // Filtering and sorting\r\n  sortBy = 'newest';\r\n  selectedQuality = '';\r\n\r\n  private routeSubscription: Subscription | null = null;\r\n  private pageSubscription: Subscription | null = null;\r\n\r\n  qualities = [\r\n    { label: 'New', value: 'NEW' },\r\n    { label: 'Like New', value: 'LIKE NEW' },\r\n    { label: 'Barely Worn', value: 'BARELY WORN' },\r\n    { label: 'Used', value: 'USED' }\r\n  ];\r\n\r\n  constructor(\r\n    private listingService: ListingService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    public paginationService: PaginationService // Inject PaginationService and make it public to use in template\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    // Reset pagination\r\n    this.paginationService.reset();\r\n\r\n    // Subscribe to query params changes\r\n    this.routeSubscription = this.route.queryParams.subscribe(params => {\r\n      // Reset listings when filters change\r\n      this.listings = [];\r\n\r\n      // Set filters from URL\r\n      this.selectedQuality = params['quality'] || '';\r\n      this.sortBy = params['sort'] || 'newest';\r\n\r\n      // Reset pagination\r\n      this.paginationService.reset();\r\n\r\n      // Load first page\r\n      this.loadListings();\r\n    });\r\n\r\n    // Subscribe to page changes for infinite scrolling\r\n    this.pageSubscription = this.paginationService.page$.subscribe(page => {\r\n      if (page > 1) { // Skip first page since it's already loaded by route subscription\r\n        this.loadListings();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.routeSubscription) {\r\n      this.routeSubscription.unsubscribe();\r\n    }\r\n    if (this.pageSubscription) {\r\n      this.pageSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  loadListings(): void {\r\n    // Skip if already loading\r\n    if (this.isLoading) return;\r\n\r\n    this.isLoading = true;\r\n    this.paginationService.setLoading(true);\r\n\r\n    // Prepare parameters\r\n    const params: any = {\r\n      page: this.paginationService.currentPage,\r\n      pageSize: this.paginationService.currentPageSize\r\n    };\r\n\r\n    if (this.selectedQuality) {\r\n      params.quality = this.selectedQuality;\r\n    }\r\n\r\n    if (this.sortBy !== 'newest') {\r\n      params.sortBy = this.sortBy;\r\n    }\r\n\r\n    console.log('Loading listings with params:', params);\r\n\r\n    this.listingService.getListings(params).subscribe({\r\n      next: (response) => {\r\n        // For first page, replace the array; for subsequent pages, append\r\n        if (this.paginationService.currentPage === 1) {\r\n          this.listings = response.items;\r\n        } else {\r\n          // Append new items to the existing array\r\n          this.listings = [...this.listings, ...response.items];\r\n        }\r\n\r\n        // Update pagination info\r\n        this.paginationService.setTotalCount(response.totalCount);\r\n        console.log(`Total items: ${response.totalCount}, Current items: ${this.listings.length}`);\r\n\r\n        this.isLoading = false;\r\n        this.paginationService.setLoading(false);\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading listings', error);\r\n        this.isLoading = false;\r\n        this.paginationService.setLoading(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  onScroll(): void {\r\n    // Load next page when user scrolls to bottom\r\n    if (!this.isLoading && this.paginationService.hasMoreItems) {\r\n      this.paginationService.nextPage();\r\n    }\r\n  }\r\n\r\n  onSearch(query: string): void {\r\n    this.router.navigate(['/search'], { queryParams: { q: query } });\r\n  }\r\n\r\n  onSortChange(): void {\r\n    this.updateQueryParams();\r\n  }\r\n\r\n  onQualityChange(): void {\r\n    this.updateQueryParams();\r\n  }\r\n\r\n  updateQueryParams(): void {\r\n    // Create a clean object with only the necessary params\r\n    const queryParams: any = {};\r\n\r\n    // Only add quality if it's not empty (i.e., not \"All\")\r\n    if (this.selectedQuality) {\r\n      queryParams.quality = this.selectedQuality;\r\n    }\r\n\r\n    // Only add sort if it's not the default\r\n    if (this.sortBy !== 'newest') {\r\n      queryParams.sort = this.sortBy;\r\n    }\r\n\r\n    console.log('Updating with query params:', queryParams);\r\n\r\n    // Use replaceUrl: true to ensure a clean navigation\r\n    this.router.navigate([], {\r\n      relativeTo: this.route,\r\n      queryParams: queryParams,\r\n      replaceUrl: true // Replace the URL instead of merging params\r\n    });\r\n  }\r\n\r\n    // src/app/components/new-listings/new-listings.component.ts\r\n    viewListingDetails(id: number): void {\r\n        // Find the listing in our already-loaded data\r\n        const listing = this.listings.find(l => l.id === id);\r\n\r\n        if (listing) {\r\n            // Pass the listing data for instant display\r\n            this.router.navigate(['/listing', id], {\r\n                state: { listing: listing }\r\n            });\r\n        } else {\r\n            // Fallback if listing not found in current array\r\n            this.router.navigate(['/listing', id]);\r\n        }\r\n    }\r\n\r\n  clearFilters(): void {\r\n    this.selectedQuality = '';\r\n    this.sortBy = 'newest';\r\n    this.updateQueryParams();\r\n  }\r\n\r\n  loadMoreManually(): void {\r\n    console.log(\"Manual load more triggered\");\r\n    this.paginationService.nextPage();\r\n  }\r\n}\r\n","<!-- src/app/components/new-listings/new-listings.component.html -->\r\n<div class=\"container\">\r\n  <div class=\"listings-header\">\r\n    <h1>Listings</h1>\r\n    <app-search-bar [liveUpdate]=\"false\"\r\n                    (searchQuery)=\"onSearch($event)\">\r\n    </app-search-bar>\r\n  </div>\r\n\r\n  <div class=\"filters-bar\">\r\n    <div class=\"filter-group\">\r\n      <label for=\"quality\">Quality:</label>\r\n      <select id=\"quality\" [(ngModel)]=\"selectedQuality\" (change)=\"onQualityChange()\">\r\n        <option value=\"\">All</option>\r\n        <option *ngFor=\"let quality of qualities\" [value]=\"quality.value\">{{ quality.label }}</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"filter-group\">\r\n      <label for=\"sortBy\">Sort by:</label>\r\n      <select id=\"sortBy\" [(ngModel)]=\"sortBy\" (change)=\"onSortChange()\">\r\n        <option value=\"newest\">Newest</option>\r\n        <option value=\"price_asc\">Price: Low to High</option>\r\n        <option value=\"price_desc\">Price: High to Low</option>\r\n      </select>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"no-results\" *ngIf=\"!isLoading && listings.length === 0\">\r\n    <p>No listings found matching your criteria.</p>\r\n    <button class=\"btn btn-primary\" (click)=\"clearFilters()\">Clear filters</button>\r\n  </div>\r\n\r\n  <!-- The main listings section - apply the infinite scroll here -->\r\n  <div class=\"listings-wrapper\" appInfiniteScroll [disabled]=\"isLoading\" (scrolled)=\"onScroll()\">\r\n    <div class=\"listings-grid\" *ngIf=\"listings.length > 0\">\r\n      <div class=\"\r\n           \" *ngFor=\"let listing of listings\">\r\n        <app-listing-item [listing]=\"listing\" (click)=\"viewListingDetails(listing.id)\"></app-listing-item>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"load-more-container\" *ngIf=\"listings.length > 0 && paginationService.hasMoreItems && !isLoading\">\r\n    <button class=\"load-more-btn\" (click)=\"loadMoreManually()\">\r\n      <span class=\"btn-text\">Load More Listings</span>\r\n      <span class=\"btn-icon\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n          <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\" />\r\n        </svg>\r\n      </span>\r\n    </button>\r\n  </div>\r\n\r\n  <!-- Loading indicator (show this when loading more) -->\r\n  <div class=\"infinite-scroll-loader\" *ngIf=\"isLoading\">\r\n    <div class=\"loading-spinner\"></div>\r\n    <p>Loading more listings...</p>\r\n  </div>\r\n\r\n  <!-- End of results message -->\r\n  <div class=\"end-of-results\" *ngIf=\"listings.length > 0 && !paginationService.hasMoreItems && !isLoading\">\r\n    <p>You've reached the end of the listings</p>\r\n  </div>\r\n</div>\r\n"],"mappings":";;;;;;;;;;;ICcQA,EAAA,CAAAC,cAAA,iBAAkE;IAAAD,EAAA,CAAAE,MAAA,GAAmB;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IAApDH,EAAA,CAAAI,UAAA,UAAAC,UAAA,CAAAC,KAAA,CAAuB;IAACN,EAAA,CAAAO,SAAA,GAAmB;IAAnBP,EAAA,CAAAQ,iBAAA,CAAAH,UAAA,CAAAI,KAAA,CAAmB;;;;;;IAc3FT,EAAA,CAAAC,cAAA,cAAoE;IAC/DD,EAAA,CAAAE,MAAA,gDAAyC;IAAAF,EAAA,CAAAG,YAAA,EAAI;IAChDH,EAAA,CAAAC,cAAA,iBAAyD;IAAzBD,EAAA,CAAAU,UAAA,mBAAAC,6DAAA;MAAAX,EAAA,CAAAY,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAd,EAAA,CAAAe,aAAA;MAAA,OAASf,EAAA,CAAAgB,WAAA,CAAAF,MAAA,CAAAG,YAAA,EAAc;IAAA,EAAC;IAACjB,EAAA,CAAAE,MAAA,oBAAa;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;;;IAM7EH,EAAA,CAAAC,cAAA,cACwC;IACAD,EAAA,CAAAU,UAAA,mBAAAQ,6EAAA;MAAA,MAAAC,WAAA,GAAAnB,EAAA,CAAAY,aAAA,CAAAQ,IAAA;MAAA,MAAAC,WAAA,GAAAF,WAAA,CAAAG,SAAA;MAAA,MAAAC,OAAA,GAAAvB,EAAA,CAAAe,aAAA;MAAA,OAASf,EAAA,CAAAgB,WAAA,CAAAO,OAAA,CAAAC,kBAAA,CAAAH,WAAA,CAAAI,EAAA,CAA8B;IAAA,EAAC;IAACzB,EAAA,CAAAG,YAAA,EAAmB;;;;IAAhFH,EAAA,CAAAO,SAAA,GAAmB;IAAnBP,EAAA,CAAAI,UAAA,YAAAiB,WAAA,CAAmB;;;;;IAHzCrB,EAAA,CAAAC,cAAA,cAAuD;IACrDD,EAAA,CAAA0B,UAAA,IAAAC,0CAAA,kBAGM;IACR3B,EAAA,CAAAG,YAAA,EAAM;;;;IAHuBH,EAAA,CAAAO,SAAA,GAAW;IAAXP,EAAA,CAAAI,UAAA,YAAAwB,MAAA,CAAAC,QAAA,CAAW;;;;;;IAM1C7B,EAAA,CAAAC,cAAA,cAA6G;IAC7ED,EAAA,CAAAU,UAAA,mBAAAoB,6DAAA;MAAA9B,EAAA,CAAAY,aAAA,CAAAmB,IAAA;MAAA,MAAAC,OAAA,GAAAhC,EAAA,CAAAe,aAAA;MAAA,OAASf,EAAA,CAAAgB,WAAA,CAAAgB,OAAA,CAAAC,gBAAA,EAAkB;IAAA,EAAC;IACxDjC,EAAA,CAAAC,cAAA,eAAuB;IAAAD,EAAA,CAAAE,MAAA,yBAAkB;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAChDH,EAAA,CAAAC,cAAA,eAAuB;IACrBD,EAAA,CAAAkC,cAAA,EAAuG;IAAvGlC,EAAA,CAAAC,cAAA,cAAuG;IACrGD,EAAA,CAAAmC,SAAA,eAAkH;IACpHnC,EAAA,CAAAG,YAAA,EAAM;;;;;IAMZH,EAAA,CAAAC,cAAA,cAAsD;IACpDD,EAAA,CAAAmC,SAAA,cAAmC;IACnCnC,EAAA,CAAAC,cAAA,QAAG;IAAAD,EAAA,CAAAE,MAAA,+BAAwB;IAAAF,EAAA,CAAAG,YAAA,EAAI;;;;;IAIjCH,EAAA,CAAAC,cAAA,cAAyG;IACpGD,EAAA,CAAAE,MAAA,6CAAsC;IAAAF,EAAA,CAAAG,YAAA,EAAI;;;ADjDjD,OAAM,MAAOiC,oBAAoB;EAkB/BC,YACUC,cAA8B,EAC9BC,MAAc,EACdC,KAAqB,EACtBC,iBAAoC,CAAC;EAAA,E;IAHpC,KAAAH,cAAc,GAAdA,cAAc;IACd,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,KAAK,GAALA,KAAK;IACN,KAAAC,iBAAiB,GAAjBA,iBAAiB;IArB1B,KAAAZ,QAAQ,GAAc,EAAE;IACxB,KAAAa,SAAS,GAAG,KAAK;IAEjB;IACA,KAAAC,MAAM,GAAG,QAAQ;IACjB,KAAAC,eAAe,GAAG,EAAE;IAEZ,KAAAC,iBAAiB,GAAwB,IAAI;IAC7C,KAAAC,gBAAgB,GAAwB,IAAI;IAEpD,KAAAC,SAAS,GAAG,CACV;MAAEtC,KAAK,EAAE,KAAK;MAAEH,KAAK,EAAE;IAAK,CAAE,EAC9B;MAAEG,KAAK,EAAE,UAAU;MAAEH,KAAK,EAAE;IAAU,CAAE,EACxC;MAAEG,KAAK,EAAE,aAAa;MAAEH,KAAK,EAAE;IAAa,CAAE,EAC9C;MAAEG,KAAK,EAAE,MAAM;MAAEH,KAAK,EAAE;IAAM,CAAE,CACjC;EAOG;EAEJ0C,QAAQA,CAAA;IACN;IACA,IAAI,CAACP,iBAAiB,CAACQ,KAAK,EAAE;IAE9B;IACA,IAAI,CAACJ,iBAAiB,GAAG,IAAI,CAACL,KAAK,CAACU,WAAW,CAACC,SAAS,CAACC,MAAM,IAAG;MACjE;MACA,IAAI,CAACvB,QAAQ,GAAG,EAAE;MAElB;MACA,IAAI,CAACe,eAAe,GAAGQ,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE;MAC9C,IAAI,CAACT,MAAM,GAAGS,MAAM,CAAC,MAAM,CAAC,IAAI,QAAQ;MAExC;MACA,IAAI,CAACX,iBAAiB,CAACQ,KAAK,EAAE;MAE9B;MACA,IAAI,CAACI,YAAY,EAAE;IACrB,CAAC,CAAC;IAEF;IACA,IAAI,CAACP,gBAAgB,GAAG,IAAI,CAACL,iBAAiB,CAACa,KAAK,CAACH,SAAS,CAACI,IAAI,IAAG;MACpE,IAAIA,IAAI,GAAG,CAAC,EAAE;QAAE;QACd,IAAI,CAACF,YAAY,EAAE;;IAEvB,CAAC,CAAC;EACJ;EAEAG,WAAWA,CAAA;IACT,IAAI,IAAI,CAACX,iBAAiB,EAAE;MAC1B,IAAI,CAACA,iBAAiB,CAACY,WAAW,EAAE;;IAEtC,IAAI,IAAI,CAACX,gBAAgB,EAAE;MACzB,IAAI,CAACA,gBAAgB,CAACW,WAAW,EAAE;;EAEvC;EAEAJ,YAAYA,CAAA;IACV;IACA,IAAI,IAAI,CAACX,SAAS,EAAE;IAEpB,IAAI,CAACA,SAAS,GAAG,IAAI;IACrB,IAAI,CAACD,iBAAiB,CAACiB,UAAU,CAAC,IAAI,CAAC;IAEvC;IACA,MAAMN,MAAM,GAAQ;MAClBG,IAAI,EAAE,IAAI,CAACd,iBAAiB,CAACkB,WAAW;MACxCC,QAAQ,EAAE,IAAI,CAACnB,iBAAiB,CAACoB;KAClC;IAED,IAAI,IAAI,CAACjB,eAAe,EAAE;MACxBQ,MAAM,CAACU,OAAO,GAAG,IAAI,CAAClB,eAAe;;IAGvC,IAAI,IAAI,CAACD,MAAM,KAAK,QAAQ,EAAE;MAC5BS,MAAM,CAACT,MAAM,GAAG,IAAI,CAACA,MAAM;;IAG7BoB,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEZ,MAAM,CAAC;IAEpD,IAAI,CAACd,cAAc,CAAC2B,WAAW,CAACb,MAAM,CAAC,CAACD,SAAS,CAAC;MAChDe,IAAI,EAAGC,QAAQ,IAAI;QACjB;QACA,IAAI,IAAI,CAAC1B,iBAAiB,CAACkB,WAAW,KAAK,CAAC,EAAE;UAC5C,IAAI,CAAC9B,QAAQ,GAAGsC,QAAQ,CAACC,KAAK;SAC/B,MAAM;UACL;UACA,IAAI,CAACvC,QAAQ,GAAG,CAAC,GAAG,IAAI,CAACA,QAAQ,EAAE,GAAGsC,QAAQ,CAACC,KAAK,CAAC;;QAGvD;QACA,IAAI,CAAC3B,iBAAiB,CAAC4B,aAAa,CAACF,QAAQ,CAACG,UAAU,CAAC;QACzDP,OAAO,CAACC,GAAG,CAAC,gBAAgBG,QAAQ,CAACG,UAAU,oBAAoB,IAAI,CAACzC,QAAQ,CAAC0C,MAAM,EAAE,CAAC;QAE1F,IAAI,CAAC7B,SAAS,GAAG,KAAK;QACtB,IAAI,CAACD,iBAAiB,CAACiB,UAAU,CAAC,KAAK,CAAC;MAC1C,CAAC;MACDc,KAAK,EAAGA,KAAK,IAAI;QACfT,OAAO,CAACS,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;QAC9C,IAAI,CAAC9B,SAAS,GAAG,KAAK;QACtB,IAAI,CAACD,iBAAiB,CAACiB,UAAU,CAAC,KAAK,CAAC;MAC1C;KACD,CAAC;EACJ;EAEAe,QAAQA,CAAA;IACN;IACA,IAAI,CAAC,IAAI,CAAC/B,SAAS,IAAI,IAAI,CAACD,iBAAiB,CAACiC,YAAY,EAAE;MAC1D,IAAI,CAACjC,iBAAiB,CAACkC,QAAQ,EAAE;;EAErC;EAEAC,QAAQA,CAACC,KAAa;IACpB,IAAI,CAACtC,MAAM,CAACuC,QAAQ,CAAC,CAAC,SAAS,CAAC,EAAE;MAAE5B,WAAW,EAAE;QAAE6B,CAAC,EAAEF;MAAK;IAAE,CAAE,CAAC;EAClE;EAEAG,YAAYA,CAAA;IACV,IAAI,CAACC,iBAAiB,EAAE;EAC1B;EAEAC,eAAeA,CAAA;IACb,IAAI,CAACD,iBAAiB,EAAE;EAC1B;EAEAA,iBAAiBA,CAAA;IACf;IACA,MAAM/B,WAAW,GAAQ,EAAE;IAE3B;IACA,IAAI,IAAI,CAACN,eAAe,EAAE;MACxBM,WAAW,CAACY,OAAO,GAAG,IAAI,CAAClB,eAAe;;IAG5C;IACA,IAAI,IAAI,CAACD,MAAM,KAAK,QAAQ,EAAE;MAC5BO,WAAW,CAACiC,IAAI,GAAG,IAAI,CAACxC,MAAM;;IAGhCoB,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEd,WAAW,CAAC;IAEvD;IACA,IAAI,CAACX,MAAM,CAACuC,QAAQ,CAAC,EAAE,EAAE;MACvBM,UAAU,EAAE,IAAI,CAAC5C,KAAK;MACtBU,WAAW,EAAEA,WAAW;MACxBmC,UAAU,EAAE,IAAI,CAAC;KAClB,CAAC;EACJ;EAEE;EACA7D,kBAAkBA,CAACC,EAAU;IACzB;IACA,MAAM6D,OAAO,GAAG,IAAI,CAACzD,QAAQ,CAAC0D,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAC/D,EAAE,KAAKA,EAAE,CAAC;IAEpD,IAAI6D,OAAO,EAAE;MACT;MACA,IAAI,CAAC/C,MAAM,CAACuC,QAAQ,CAAC,CAAC,UAAU,EAAErD,EAAE,CAAC,EAAE;QACnCgE,KAAK,EAAE;UAAEH,OAAO,EAAEA;QAAO;OAC5B,CAAC;KACL,MAAM;MACH;MACA,IAAI,CAAC/C,MAAM,CAACuC,QAAQ,CAAC,CAAC,UAAU,EAAErD,EAAE,CAAC,CAAC;;EAE9C;EAEFR,YAAYA,CAAA;IACV,IAAI,CAAC2B,eAAe,GAAG,EAAE;IACzB,IAAI,CAACD,MAAM,GAAG,QAAQ;IACtB,IAAI,CAACsC,iBAAiB,EAAE;EAC1B;EAEAhD,gBAAgBA,CAAA;IACd8B,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;IACzC,IAAI,CAACvB,iBAAiB,CAACkC,QAAQ,EAAE;EACnC;;;uBAlLWvC,oBAAoB,EAAApC,EAAA,CAAA0F,iBAAA,CAAAC,EAAA,CAAAC,cAAA,GAAA5F,EAAA,CAAA0F,iBAAA,CAAAG,EAAA,CAAAC,MAAA,GAAA9F,EAAA,CAAA0F,iBAAA,CAAAG,EAAA,CAAAE,cAAA,GAAA/F,EAAA,CAAA0F,iBAAA,CAAAM,EAAA,CAAAC,iBAAA;IAAA;EAAA;;;YAApB7D,oBAAoB;MAAA8D,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,8BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCZjCxG,EAAA,CAAAC,cAAA,aAAuB;UAEfD,EAAA,CAAAE,MAAA,eAAQ;UAAAF,EAAA,CAAAG,YAAA,EAAK;UACjBH,EAAA,CAAAC,cAAA,wBACiD;UAAjCD,EAAA,CAAAU,UAAA,yBAAAgG,oEAAAC,MAAA;YAAA,OAAeF,GAAA,CAAA7B,QAAA,CAAA+B,MAAA,CAAgB;UAAA,EAAC;UAChD3G,EAAA,CAAAG,YAAA,EAAiB;UAGnBH,EAAA,CAAAC,cAAA,aAAyB;UAEAD,EAAA,CAAAE,MAAA,eAAQ;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACrCH,EAAA,CAAAC,cAAA,gBAAgF;UAA3DD,EAAA,CAAAU,UAAA,2BAAAkG,8DAAAD,MAAA;YAAA,OAAAF,GAAA,CAAA7D,eAAA,GAAA+D,MAAA;UAAA,EAA6B,oBAAAE,uDAAA;YAAA,OAAWJ,GAAA,CAAAvB,eAAA,EAAiB;UAAA,EAA5B;UAChDlF,EAAA,CAAAC,cAAA,iBAAiB;UAAAD,EAAA,CAAAE,MAAA,WAAG;UAAAF,EAAA,CAAAG,YAAA,EAAS;UAC7BH,EAAA,CAAA0B,UAAA,KAAAoF,uCAAA,oBAA8F;UAChG9G,EAAA,CAAAG,YAAA,EAAS;UAGXH,EAAA,CAAAC,cAAA,cAA0B;UACJD,EAAA,CAAAE,MAAA,gBAAQ;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACpCH,EAAA,CAAAC,cAAA,kBAAmE;UAA/CD,EAAA,CAAAU,UAAA,2BAAAqG,+DAAAJ,MAAA;YAAA,OAAAF,GAAA,CAAA9D,MAAA,GAAAgE,MAAA;UAAA,EAAoB,oBAAAK,wDAAA;YAAA,OAAWP,GAAA,CAAAzB,YAAA,EAAc;UAAA,EAAzB;UACtChF,EAAA,CAAAC,cAAA,kBAAuB;UAAAD,EAAA,CAAAE,MAAA,cAAM;UAAAF,EAAA,CAAAG,YAAA,EAAS;UACtCH,EAAA,CAAAC,cAAA,kBAA0B;UAAAD,EAAA,CAAAE,MAAA,0BAAkB;UAAAF,EAAA,CAAAG,YAAA,EAAS;UACrDH,EAAA,CAAAC,cAAA,kBAA2B;UAAAD,EAAA,CAAAE,MAAA,0BAAkB;UAAAF,EAAA,CAAAG,YAAA,EAAS;UAK5DH,EAAA,CAAA0B,UAAA,KAAAuF,oCAAA,kBAGM;UAGNjH,EAAA,CAAAC,cAAA,eAA+F;UAAxBD,EAAA,CAAAU,UAAA,sBAAAwG,uDAAA;YAAA,OAAYT,GAAA,CAAAhC,QAAA,EAAU;UAAA,EAAC;UAC5FzE,EAAA,CAAA0B,UAAA,KAAAyF,oCAAA,kBAKM;UACRnH,EAAA,CAAAG,YAAA,EAAM;UAENH,EAAA,CAAA0B,UAAA,KAAA0F,oCAAA,kBASM;UAGNpH,EAAA,CAAA0B,UAAA,KAAA2F,oCAAA,kBAGM;UAGNrH,EAAA,CAAA0B,UAAA,KAAA4F,oCAAA,kBAEM;UACRtH,EAAA,CAAAG,YAAA,EAAM;;;UA5DcH,EAAA,CAAAO,SAAA,GAAoB;UAApBP,EAAA,CAAAI,UAAA,qBAAoB;UAQbJ,EAAA,CAAAO,SAAA,GAA6B;UAA7BP,EAAA,CAAAI,UAAA,YAAAqG,GAAA,CAAA7D,eAAA,CAA6B;UAEpB5C,EAAA,CAAAO,SAAA,GAAY;UAAZP,EAAA,CAAAI,UAAA,YAAAqG,GAAA,CAAA1D,SAAA,CAAY;UAMtB/C,EAAA,CAAAO,SAAA,GAAoB;UAApBP,EAAA,CAAAI,UAAA,YAAAqG,GAAA,CAAA9D,MAAA,CAAoB;UAQnB3C,EAAA,CAAAO,SAAA,GAAyC;UAAzCP,EAAA,CAAAI,UAAA,UAAAqG,GAAA,CAAA/D,SAAA,IAAA+D,GAAA,CAAA5E,QAAA,CAAA0C,MAAA,OAAyC;UAMlBvE,EAAA,CAAAO,SAAA,GAAsB;UAAtBP,EAAA,CAAAI,UAAA,aAAAqG,GAAA,CAAA/D,SAAA,CAAsB;UACxC1C,EAAA,CAAAO,SAAA,GAAyB;UAAzBP,EAAA,CAAAI,UAAA,SAAAqG,GAAA,CAAA5E,QAAA,CAAA0C,MAAA,KAAyB;UAQrBvE,EAAA,CAAAO,SAAA,GAAyE;UAAzEP,EAAA,CAAAI,UAAA,SAAAqG,GAAA,CAAA5E,QAAA,CAAA0C,MAAA,QAAAkC,GAAA,CAAAhE,iBAAA,CAAAiC,YAAA,KAAA+B,GAAA,CAAA/D,SAAA,CAAyE;UAYtE1C,EAAA,CAAAO,SAAA,GAAe;UAAfP,EAAA,CAAAI,UAAA,SAAAqG,GAAA,CAAA/D,SAAA,CAAe;UAMvB1C,EAAA,CAAAO,SAAA,GAA0E;UAA1EP,EAAA,CAAAI,UAAA,SAAAqG,GAAA,CAAA5E,QAAA,CAAA0C,MAAA,SAAAkC,GAAA,CAAAhE,iBAAA,CAAAiC,YAAA,KAAA+B,GAAA,CAAA/D,SAAA,CAA0E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}