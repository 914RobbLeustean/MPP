{"ast":null,"code":"import { environment } from '../../../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nexport class ListingItemComponent {\n  constructor(router) {\n    this.router = router;\n  }\n  viewDetails() {\n    this.router.navigate(['/listing', this.listing.id]);\n  }\n  // Add this method to properly resolve image URLs\n  getImageUrl(url) {\n    console.log('Original image URL:', url);\n    if (!url) {\n      console.log('Using placeholder due to null/undefined URL');\n      return 'assets/images/placeholder.png';\n    }\n    // If the URL is relative (from your backend)\n    if (url.startsWith('/')) {\n      const baseUrl = environment.apiUrl.split('/api')[0];\n      const fullUrl = `${baseUrl}${url}`;\n      console.log('Converted relative URL to:', fullUrl);\n      return fullUrl;\n    }\n    console.log('Using original URL:', url);\n    return url;\n  }\n  static {\n    this.ɵfac = function ListingItemComponent_Factory(t) {\n      return new (t || ListingItemComponent)(i0.ɵɵdirectiveInject(i1.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ListingItemComponent,\n      selectors: [[\"app-listing-item\"]],\n      inputs: {\n        listing: \"listing\"\n      },\n      decls: 12,\n      vars: 6,\n      consts: [[1, \"listing-item\", 3, \"click\"], [1, \"listing-image\"], [3, \"src\", \"alt\"], [1, \"listing-details\"], [1, \"size\"], [1, \"quality\"]],\n      template: function ListingItemComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵlistener(\"click\", function ListingItemComponent_Template_div_click_0_listener() {\n            return ctx.viewDetails();\n          });\n          i0.ɵɵelementStart(1, \"div\", 1);\n          i0.ɵɵelement(2, \"img\", 2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 3)(4, \"h3\");\n          i0.ɵɵtext(5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"h4\");\n          i0.ɵɵtext(7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"p\", 4);\n          i0.ɵɵtext(9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"p\", 5);\n          i0.ɵɵtext(11);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵpropertyInterpolate(\"alt\", ctx.listing.title);\n          i0.ɵɵproperty(\"src\", ctx.getImageUrl(ctx.listing.mainPhotoUrl), i0.ɵɵsanitizeUrl);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"$\", ctx.listing.price, \"\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.listing.title);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.listing.measurement);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.listing.quality);\n        }\n      },\n      styles: [\"\\n\\n.listing-item[_ngcontent-%COMP%] {\\n  background-color: white;\\n  border-radius: 8px;\\n  overflow: hidden;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n  transition: transform 0.2s, box-shadow 0.2s;\\n  cursor: pointer;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.listing-item[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-5px);\\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\\n}\\n.listing-item[_ngcontent-%COMP%]   .listing-image[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding-top: 100%;\\n  position: relative;\\n  overflow: hidden;\\n}\\n.listing-item[_ngcontent-%COMP%]   .listing-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n}\\n.listing-item[_ngcontent-%COMP%]   .listing-details[_ngcontent-%COMP%] {\\n  padding: 15px;\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.listing-item[_ngcontent-%COMP%]   .listing-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  color: #a83939;\\n  font-size: 18px;\\n  margin: 0 0 5px;\\n}\\n.listing-item[_ngcontent-%COMP%]   .listing-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  margin: 0 0 8px;\\n  font-size: 16px;\\n  font-weight: 500;\\n}\\n.listing-item[_ngcontent-%COMP%]   .listing-details[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%], .listing-item[_ngcontent-%COMP%]   .listing-details[_ngcontent-%COMP%]   .quality[_ngcontent-%COMP%] {\\n  margin: 0 0 5px;\\n  font-size: 14px;\\n  color: #666;\\n}\\n.listing-item[_ngcontent-%COMP%]   .listing-details[_ngcontent-%COMP%]   .quality[_ngcontent-%COMP%] {\\n  margin-top: auto;\\n  background-color: #f5f5f5;\\n  display: inline-block;\\n  padding: 3px 8px;\\n  border-radius: 4px;\\n  font-size: 12px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9zaGFyZWQvbGlzdGluZy1pdGVtL2xpc3RpbmctaXRlbS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSx1RUFBQTtBQUNBO0VBQ0UsdUJBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0Esd0NBQUE7RUFDQSwyQ0FBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0FBQ0Y7QUFDRTtFQUNFLDJCQUFBO0VBQ0EseUNBQUE7QUFDSjtBQUVFO0VBQ0UsV0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtBQUFKO0FBRUk7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtBQUFOO0FBSUU7RUFDRSxhQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtBQUZKO0FBSUk7RUFDRSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7QUFGTjtBQUtJO0VBQ0UsZUFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQUhOO0FBTUk7RUFDRSxlQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7QUFKTjtBQU9JO0VBQ0UsZ0JBQUE7RUFDQSx5QkFBQTtFQUNBLHFCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7QUFMTiIsInNvdXJjZXNDb250ZW50IjpbIi8qIHNyYy9hcHAvY29tcG9uZW50cy9zaGFyZWQvbGlzdGluZy1pdGVtL2xpc3RpbmctaXRlbS5jb21wb25lbnQuc2NzcyAqL1xyXG4ubGlzdGluZy1pdGVtIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjJzLCBib3gtc2hhZG93IDAuMnM7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG4gICY6aG92ZXIge1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpO1xyXG4gICAgYm94LXNoYWRvdzogMCA4cHggMTZweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgfVxyXG5cclxuICAubGlzdGluZy1pbWFnZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHBhZGRpbmctdG9wOiAxMDAlOyAvLyAxOjEgYXNwZWN0IHJhdGlvXHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG5cclxuICAgIGltZyB7XHJcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgdG9wOiAwO1xyXG4gICAgICBsZWZ0OiAwO1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICBvYmplY3QtZml0OiBjb3ZlcjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC5saXN0aW5nLWRldGFpbHMge1xyXG4gICAgcGFkZGluZzogMTVweDtcclxuICAgIGZsZXgtZ3JvdzogMTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgIGgzIHtcclxuICAgICAgY29sb3I6ICNhODM5Mzk7XHJcbiAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgICAgbWFyZ2luOiAwIDAgNXB4O1xyXG4gICAgfVxyXG5cclxuICAgIGg0IHtcclxuICAgICAgbWFyZ2luOiAwIDAgOHB4O1xyXG4gICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICB9XHJcblxyXG4gICAgLnNpemUsIC5xdWFsaXR5IHtcclxuICAgICAgbWFyZ2luOiAwIDAgNXB4O1xyXG4gICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgIGNvbG9yOiAjNjY2O1xyXG4gICAgfVxyXG5cclxuICAgIC5xdWFsaXR5IHtcclxuICAgICAgbWFyZ2luLXRvcDogYXV0bztcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTtcclxuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICBwYWRkaW5nOiAzcHggOHB4O1xyXG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["environment","ListingItemComponent","constructor","router","viewDetails","navigate","listing","id","getImageUrl","url","console","log","startsWith","baseUrl","apiUrl","split","fullUrl","i0","ɵɵdirectiveInject","i1","Router","selectors","inputs","decls","vars","consts","template","ListingItemComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","ListingItemComponent_Template_div_click_0_listener","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵpropertyInterpolate","title","ɵɵproperty","mainPhotoUrl","ɵɵsanitizeUrl","ɵɵtextInterpolate1","price","ɵɵtextInterpolate","measurement","quality"],"sources":["C:\\Users\\leust\\source\\repos\\MPP-main\\Thrifto\\thrifto.client\\src\\app\\components\\shared\\listing-item\\listing-item.component.ts","C:\\Users\\leust\\source\\repos\\MPP-main\\Thrifto\\thrifto.client\\src\\app\\components\\shared\\listing-item\\listing-item.component.html"],"sourcesContent":["// src/app/components/shared/listing-item/listing-item.component.ts\r\nimport { Component, Input } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Listing } from '../../../models/listing.model';\r\nimport { environment } from '../../../../environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-listing-item',\r\n  templateUrl: './listing-item.component.html',\r\n  styleUrls: ['./listing-item.component.scss']\r\n})\r\nexport class ListingItemComponent {\r\n  @Input() listing!: Listing;\r\n\r\n  constructor(private router: Router) { }\r\n\r\n  viewDetails(): void {\r\n    this.router.navigate(['/listing', this.listing.id]);\r\n  }\r\n\r\n  // Add this method to properly resolve image URLs\r\n  getImageUrl(url: string | null | undefined): string {\r\n    console.log('Original image URL:', url);\r\n\r\n    if (!url) {\r\n      console.log('Using placeholder due to null/undefined URL');\r\n      return 'assets/images/placeholder.png';\r\n    }\r\n\r\n    // If the URL is relative (from your backend)\r\n    if (url.startsWith('/')) {\r\n      const baseUrl = environment.apiUrl.split('/api')[0];\r\n      const fullUrl = `${baseUrl}${url}`;\r\n      console.log('Converted relative URL to:', fullUrl);\r\n      return fullUrl;\r\n    }\r\n\r\n    console.log('Using original URL:', url);\r\n    return url;\r\n  }\r\n}\r\n","<!-- src/app/components/shared/listing-item/listing-item.component.html -->\r\n<div class=\"listing-item\" (click)=\"viewDetails()\">\r\n  <div class=\"listing-image\">\r\n    <img [src]=\"getImageUrl(listing.mainPhotoUrl)\" alt=\"{{ listing.title }}\">\r\n  </div>\r\n  <div class=\"listing-details\">\r\n    <h3>${{ listing.price }}</h3>\r\n    <h4>{{ listing.title }}</h4>\r\n    <p class=\"size\">{{ listing.measurement }}</p>\r\n    <p class=\"quality\">{{ listing.quality }}</p>\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}